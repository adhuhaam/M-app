#!/usr/bin/env node
import {createRequire} from 'module';const require = createRequire(import.meta.url);
var ld=Object.create;var zs=Object.defineProperty;var ud=Object.getOwnPropertyDescriptor;var cd=Object.getOwnPropertyNames;var hd=Object.getPrototypeOf,fd=Object.prototype.hasOwnProperty;var ye=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var Ar=(t,e)=>()=>(t&&(e=t(t=0)),e);var C=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),dd=(t,e)=>{for(var r in e)zs(t,r,{get:e[r],enumerable:!0})},pd=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of cd(e))!fd.call(t,i)&&i!==r&&zs(t,i,{get:()=>e[i],enumerable:!(n=ud(e,i))||n.enumerable});return t};var Le=(t,e,r)=>(r=t!=null?ld(hd(t)):{},pd(e||!t||!t.__esModule?zs(r,"default",{value:t,enumerable:!0}):r,t));var da=C((wy,fa)=>{"use strict";var Ws=ye("https"),ks=ye("http"),{URL:ha}=ye("url"),js=class extends ks.Agent{constructor(e){let{proxy:r,proxyRequestOptions:n,...i}=e;super(i),this.proxy=typeof r=="string"?new ha(r):r,this.proxyRequestOptions=n||{}}createConnection(e,r){let n={...this.proxyRequestOptions,method:"CONNECT",host:this.proxy.hostname,port:this.proxy.port,path:`${e.host}:${e.port}`,setHost:!1,headers:{...this.proxyRequestOptions.headers,connection:this.keepAlive?"keep-alive":"close",host:`${e.host}:${e.port}`},agent:!1,timeout:e.timeout||0};if(this.proxy.username||this.proxy.password){let a=Buffer.from(`${decodeURIComponent(this.proxy.username||"")}:${decodeURIComponent(this.proxy.password||"")}`).toString("base64");n.headers["proxy-authorization"]=`Basic ${a}`}this.proxy.protocol==="https:"&&(n.servername=this.proxy.hostname);let i=(this.proxy.protocol==="http:"?ks:Ws).request(n);i.once("connect",(a,l,h)=>{i.removeAllListeners(),l.removeAllListeners(),a.statusCode===200?r(null,l):(l.destroy(),r(new Error(`Bad response: ${a.statusCode}`),null))}),i.once("timeout",()=>{i.destroy(new Error("Proxy timeout"))}),i.once("error",a=>{i.removeAllListeners(),r(a,null)}),i.end()}},Vs=class extends Ws.Agent{constructor(e){let{proxy:r,proxyRequestOptions:n,...i}=e;super(i),this.proxy=typeof r=="string"?new ha(r):r,this.proxyRequestOptions=n||{}}createConnection(e,r){let n={...this.proxyRequestOptions,method:"CONNECT",host:this.proxy.hostname,port:this.proxy.port,path:`${e.host}:${e.port}`,setHost:!1,headers:{...this.proxyRequestOptions.headers,connection:this.keepAlive?"keep-alive":"close",host:`${e.host}:${e.port}`},agent:!1,timeout:e.timeout||0};if(this.proxy.username||this.proxy.password){let a=Buffer.from(`${decodeURIComponent(this.proxy.username||"")}:${decodeURIComponent(this.proxy.password||"")}`).toString("base64");n.headers["proxy-authorization"]=`Basic ${a}`}this.proxy.protocol==="https:"&&(n.servername=this.proxy.hostname);let i=(this.proxy.protocol==="http:"?ks:Ws).request(n);i.once("connect",(a,l,h)=>{if(i.removeAllListeners(),l.removeAllListeners(),a.statusCode===200){let d=super.createConnection({...e,socket:l});r(null,d)}else l.destroy(),r(new Error(`Bad response: ${a.statusCode}`),null)}),i.once("timeout",()=>{i.destroy(new Error("Proxy timeout"))}),i.once("error",a=>{i.removeAllListeners(),r(a,null)}),i.end()}};fa.exports={HttpProxyAgent:js,HttpsProxyAgent:Vs}});var ba=C(ga=>{"use strict";var md=ye("url").parse,gd={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},bd=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function yd(t){var e=typeof t=="string"?md(t):t||{},r=e.protocol,n=e.host,i=e.port;if(typeof n!="string"||!n||typeof r!="string"||(r=r.split(":",1)[0],n=n.replace(/:\d*$/,""),i=parseInt(i)||gd[r]||0,!_d(n,i)))return"";var a=zt("npm_config_"+r+"_proxy")||zt(r+"_proxy")||zt("npm_config_proxy")||zt("all_proxy");return a&&a.indexOf("://")===-1&&(a=r+"://"+a),a}function _d(t,e){var r=(zt("npm_config_no_proxy")||zt("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(n){if(!n)return!0;var i=n.match(/^(.+):(\d+)$/),a=i?i[1]:n,l=i?parseInt(i[2]):0;return l&&l!==e?!0:/^[.*]/.test(a)?(a.charAt(0)==="*"&&(a=a.slice(1)),!bd.call(t,a)):t!==a}):!0}function zt(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}ga.getProxyForUrl=yd});var Ks=C((Oy,Ra)=>{"use strict";function Ed(t,e){var r=t;e.slice(0,-1).forEach(function(i){r=r[i]||{}});var n=e[e.length-1];return n in r}function wa(t){return typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function Sa(t,e){return e==="constructor"&&typeof t[e]=="function"||e==="__proto__"}Ra.exports=function(t,e){e||(e={});var r={bools:{},strings:{},unknownFn:null};typeof e.unknown=="function"&&(r.unknownFn=e.unknown),typeof e.boolean=="boolean"&&e.boolean?r.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(T){r.bools[T]=!0});var n={};function i(T){return n[T].some(function($){return r.bools[$]})}Object.keys(e.alias||{}).forEach(function(T){n[T]=[].concat(e.alias[T]),n[T].forEach(function($){n[$]=[T].concat(n[T].filter(function(D){return $!==D}))})}),[].concat(e.string).filter(Boolean).forEach(function(T){r.strings[T]=!0,n[T]&&[].concat(n[T]).forEach(function($){r.strings[$]=!0})});var a=e.default||{},l={_:[]};function h(T,$){return r.allBools&&/^--[^=]+$/.test($)||r.strings[T]||r.bools[T]||n[T]}function d(T,$,D){for(var H=T,G=0;G<$.length-1;G++){var Z=$[G];if(Sa(H,Z))return;H[Z]===void 0&&(H[Z]={}),(H[Z]===Object.prototype||H[Z]===Number.prototype||H[Z]===String.prototype)&&(H[Z]={}),H[Z]===Array.prototype&&(H[Z]=[]),H=H[Z]}var te=$[$.length-1];Sa(H,te)||((H===Object.prototype||H===Number.prototype||H===String.prototype)&&(H={}),H===Array.prototype&&(H=[]),H[te]===void 0||r.bools[te]||typeof H[te]=="boolean"?H[te]=D:Array.isArray(H[te])?H[te].push(D):H[te]=[H[te],D])}function c(T,$,D){if(!(D&&r.unknownFn&&!h(T,D)&&r.unknownFn(D)===!1)){var H=!r.strings[T]&&wa($)?Number($):$;d(l,T.split("."),H),(n[T]||[]).forEach(function(G){d(l,G.split("."),H)})}}Object.keys(r.bools).forEach(function(T){c(T,a[T]===void 0?!1:a[T])});var g=[];t.indexOf("--")!==-1&&(g=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var b=0;b<t.length;b++){var m=t[b],p,_;if(/^--.+=/.test(m)){var S=m.match(/^--([^=]+)=([\s\S]*)$/);p=S[1];var A=S[2];r.bools[p]&&(A=A!=="false"),c(p,A,m)}else if(/^--no-.+/.test(m))p=m.match(/^--no-(.+)/)[1],c(p,!1,m);else if(/^--.+/.test(m))p=m.match(/^--(.+)/)[1],_=t[b+1],_!==void 0&&!/^(-|--)[^-]/.test(_)&&!r.bools[p]&&!r.allBools&&(!n[p]||!i(p))?(c(p,_,m),b+=1):/^(true|false)$/.test(_)?(c(p,_==="true",m),b+=1):c(p,r.strings[p]?"":!0,m);else if(/^-[^-]+/.test(m)){for(var E=m.slice(1,-1).split(""),L=!1,P=0;P<E.length;P++){if(_=m.slice(P+2),_==="-"){c(E[P],_,m);continue}if(/[A-Za-z]/.test(E[P])&&_[0]==="="){c(E[P],_.slice(1),m),L=!0;break}if(/[A-Za-z]/.test(E[P])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(_)){c(E[P],_,m),L=!0;break}if(E[P+1]&&E[P+1].match(/\W/)){c(E[P],m.slice(P+2),m),L=!0;break}else c(E[P],r.strings[E[P]]?"":!0,m)}p=m.slice(-1)[0],!L&&p!=="-"&&(t[b+1]&&!/^(-|--)[^-]/.test(t[b+1])&&!r.bools[p]&&(!n[p]||!i(p))?(c(p,t[b+1],m),b+=1):t[b+1]&&/^(true|false)$/.test(t[b+1])?(c(p,t[b+1]==="true",m),b+=1):c(p,r.strings[p]?"":!0,m))}else if((!r.unknownFn||r.unknownFn(m)!==!1)&&l._.push(r.strings._||!wa(m)?m:Number(m)),e.stopEarly){l._.push.apply(l._,t.slice(b+1));break}}return Object.keys(a).forEach(function(T){Ed(l,T.split("."))||(d(l,T.split("."),a[T]),(n[T]||[]).forEach(function($){d(l,$.split("."),a[T])}))}),e["--"]?l["--"]=g.slice():g.forEach(function(T){l._.push(T)}),l}});var Aa=C((xn,Ta)=>{(function(t,e){typeof xn=="object"&&typeof Ta<"u"?e(xn):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.WebStreamsPolyfill={}))})(xn,function(t){"use strict";let e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:s=>`Symbol(${s})`;function r(){}function n(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let i=n();function a(s){return typeof s=="object"&&s!==null||typeof s=="function"}let l=r,h=Promise,d=Promise.prototype.then,c=Promise.resolve.bind(h),g=Promise.reject.bind(h);function b(s){return new h(s)}function m(s){return c(s)}function p(s){return g(s)}function _(s,o,u){return d.call(s,o,u)}function S(s,o,u){_(_(s,o,u),void 0,l)}function A(s,o){S(s,o)}function E(s,o){S(s,void 0,o)}function L(s,o,u){return _(s,o,u)}function P(s){_(s,void 0,l)}let T=(()=>{let s=i&&i.queueMicrotask;if(typeof s=="function")return s;let o=m(void 0);return u=>_(o,u)})();function $(s,o,u){if(typeof s!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(s,o,u)}function D(s,o,u){try{return m($(s,o,u))}catch(f){return p(f)}}let H=16384;class G{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(o){let u=this._back,f=u;u._elements.length===H-1&&(f={_elements:[],_next:void 0}),u._elements.push(o),f!==u&&(this._back=f,u._next=f),++this._size}shift(){let o=this._front,u=o,f=this._cursor,y=f+1,w=o._elements,R=w[f];return y===H&&(u=o._next,y=0),--this._size,this._cursor=y,o!==u&&(this._front=u),w[f]=void 0,R}forEach(o){let u=this._cursor,f=this._front,y=f._elements;for(;(u!==y.length||f._next!==void 0)&&!(u===y.length&&(f=f._next,y=f._elements,u=0,y.length===0));)o(y[u]),++u}peek(){let o=this._front,u=this._cursor;return o._elements[u]}}function Z(s,o){s._ownerReadableStream=o,o._reader=s,o._state==="readable"?vt(s):o._state==="closed"?ee(s):v(s,o._storedError)}function te(s,o){let u=s._ownerReadableStream;return Ie(u,o)}function oe(s){s._ownerReadableStream._state==="readable"?J(s,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):le(s,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),s._ownerReadableStream._reader=void 0,s._ownerReadableStream=void 0}function De(s){return new TypeError("Cannot "+s+" a stream using a released reader")}function vt(s){s._closedPromise=b((o,u)=>{s._closedPromise_resolve=o,s._closedPromise_reject=u})}function v(s,o){vt(s),J(s,o)}function ee(s){vt(s),Ke(s)}function J(s,o){s._closedPromise_reject!==void 0&&(P(s._closedPromise),s._closedPromise_reject(o),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0)}function le(s,o){v(s,o)}function Ke(s){s._closedPromise_resolve!==void 0&&(s._closedPromise_resolve(void 0),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0)}let xt=e("[[AbortSteps]]"),Xe=e("[[ErrorSteps]]"),we=e("[[CancelSteps]]"),fe=e("[[PullSteps]]"),Ot=Number.isFinite||function(s){return typeof s=="number"&&isFinite(s)},Ue=Math.trunc||function(s){return s<0?Math.ceil(s):Math.floor(s)};function Yr(s){return typeof s=="object"||typeof s=="function"}function ze(s,o){if(s!==void 0&&!Yr(s))throw new TypeError(`${o} is not an object.`)}function xe(s,o){if(typeof s!="function")throw new TypeError(`${o} is not a function.`)}function Uh(s){return typeof s=="object"&&s!==null||typeof s=="function"}function to(s,o){if(!Uh(s))throw new TypeError(`${o} is not an object.`)}function Me(s,o,u){if(s===void 0)throw new TypeError(`Parameter ${o} is required in '${u}'.`)}function ps(s,o,u){if(s===void 0)throw new TypeError(`${o} is required in '${u}'.`)}function ms(s){return Number(s)}function ro(s){return s===0?0:s}function zh(s){return ro(Ue(s))}function no(s,o){let f=Number.MAX_SAFE_INTEGER,y=Number(s);if(y=ro(y),!Ot(y))throw new TypeError(`${o} is not a finite number`);if(y=zh(y),y<0||y>f)throw new TypeError(`${o} is outside the accepted range of 0 to ${f}, inclusive`);return!Ot(y)||y===0?0:y}function gs(s,o){if(!rt(s))throw new TypeError(`${o} is not a ReadableStream.`)}function It(s){return new cr(s)}function so(s,o){s._reader._readRequests.push(o)}function bs(s,o,u){let y=s._reader._readRequests.shift();u?y._closeSteps():y._chunkSteps(o)}function Qr(s){return s._reader._readRequests.length}function io(s){let o=s._reader;return!(o===void 0||!Ze(o))}class cr{constructor(o){if(Me(o,1,"ReadableStreamDefaultReader"),gs(o,"First parameter"),nt(o))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Z(this,o),this._readRequests=new G}get closed(){return Ze(this)?this._closedPromise:p(Kr("closed"))}cancel(o=void 0){return Ze(this)?this._ownerReadableStream===void 0?p(De("cancel")):te(this,o):p(Kr("cancel"))}read(){if(!Ze(this))return p(Kr("read"));if(this._ownerReadableStream===void 0)return p(De("read from"));let o,u,f=b((w,R)=>{o=w,u=R});return hr(this,{_chunkSteps:w=>o({value:w,done:!1}),_closeSteps:()=>o({value:void 0,done:!0}),_errorSteps:w=>u(w)}),f}releaseLock(){if(!Ze(this))throw Kr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");oe(this)}}}Object.defineProperties(cr.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(cr.prototype,e.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Ze(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_readRequests")?!1:s instanceof cr}function hr(s,o){let u=s._ownerReadableStream;u._disturbed=!0,u._state==="closed"?o._closeSteps():u._state==="errored"?o._errorSteps(u._storedError):u._readableStreamController[fe](o)}function Kr(s){return new TypeError(`ReadableStreamDefaultReader.prototype.${s} can only be used on a ReadableStreamDefaultReader`)}let oo=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class ao{constructor(o,u){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=o,this._preventCancel=u}next(){let o=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?L(this._ongoingPromise,o,o):o(),this._ongoingPromise}return(o){let u=()=>this._returnSteps(o);return this._ongoingPromise?L(this._ongoingPromise,u,u):u()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let o=this._reader;if(o._ownerReadableStream===void 0)return p(De("iterate"));let u,f,y=b((R,x)=>{u=R,f=x});return hr(o,{_chunkSteps:R=>{this._ongoingPromise=void 0,T(()=>u({value:R,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,oe(o),u({value:void 0,done:!0})},_errorSteps:R=>{this._ongoingPromise=void 0,this._isFinished=!0,oe(o),f(R)}}),y}_returnSteps(o){if(this._isFinished)return Promise.resolve({value:o,done:!0});this._isFinished=!0;let u=this._reader;if(u._ownerReadableStream===void 0)return p(De("finish iterating"));if(!this._preventCancel){let f=te(u,o);return oe(u),L(f,()=>({value:o,done:!0}))}return oe(u),m({value:o,done:!0})}}let lo={next(){return uo(this)?this._asyncIteratorImpl.next():p(co("next"))},return(s){return uo(this)?this._asyncIteratorImpl.return(s):p(co("return"))}};oo!==void 0&&Object.setPrototypeOf(lo,oo);function Mh(s,o){let u=It(s),f=new ao(u,o),y=Object.create(lo);return y._asyncIteratorImpl=f,y}function uo(s){if(!a(s)||!Object.prototype.hasOwnProperty.call(s,"_asyncIteratorImpl"))return!1;try{return s._asyncIteratorImpl instanceof ao}catch{return!1}}function co(s){return new TypeError(`ReadableStreamAsyncIterator.${s} can only be used on a ReadableSteamAsyncIterator`)}let ho=Number.isNaN||function(s){return s!==s};function fr(s){return s.slice()}function fo(s,o,u,f,y){new Uint8Array(s).set(new Uint8Array(u,f,y),o)}function by(s){return s}function Xr(s){return!1}function po(s,o,u){if(s.slice)return s.slice(o,u);let f=u-o,y=new ArrayBuffer(f);return fo(y,0,s,o,f),y}function Wh(s){return!(typeof s!="number"||ho(s)||s<0)}function mo(s){let o=po(s.buffer,s.byteOffset,s.byteOffset+s.byteLength);return new Uint8Array(o)}function ys(s){let o=s._queue.shift();return s._queueTotalSize-=o.size,s._queueTotalSize<0&&(s._queueTotalSize=0),o.value}function _s(s,o,u){if(!Wh(u)||u===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");s._queue.push({value:o,size:u}),s._queueTotalSize+=u}function kh(s){return s._queue.peek().value}function Je(s){s._queue=new G,s._queueTotalSize=0}class dr{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!ws(this))throw Ts("view");return this._view}respond(o){if(!ws(this))throw Ts("respond");if(Me(o,1,"respond"),o=no(o,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Xr(this._view.buffer),rn(this._associatedReadableByteStreamController,o)}respondWithNewView(o){if(!ws(this))throw Ts("respondWithNewView");if(Me(o,1,"respondWithNewView"),!ArrayBuffer.isView(o))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Xr(o.buffer),nn(this._associatedReadableByteStreamController,o)}}Object.defineProperties(dr.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(dr.prototype,e.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class $t{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!ct(this))throw mr("byobRequest");return Es(this)}get desiredSize(){if(!ct(this))throw mr("desiredSize");return Eo(this)}close(){if(!ct(this))throw mr("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let o=this._controlledReadableByteStream._state;if(o!=="readable")throw new TypeError(`The stream (in ${o} state) is not in the readable state and cannot be closed`);pr(this)}enqueue(o){if(!ct(this))throw mr("enqueue");if(Me(o,1,"enqueue"),!ArrayBuffer.isView(o))throw new TypeError("chunk must be an array buffer view");if(o.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(o.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let u=this._controlledReadableByteStream._state;if(u!=="readable")throw new TypeError(`The stream (in ${u} state) is not in the readable state and cannot be enqueued to`);tn(this,o)}error(o=void 0){if(!ct(this))throw mr("error");Oe(this,o)}[we](o){go(this),Je(this);let u=this._cancelAlgorithm(o);return en(this),u}[fe](o){let u=this._controlledReadableByteStream;if(this._queueTotalSize>0){let y=this._queue.shift();this._queueTotalSize-=y.byteLength,wo(this);let w=new Uint8Array(y.buffer,y.byteOffset,y.byteLength);o._chunkSteps(w);return}let f=this._autoAllocateChunkSize;if(f!==void 0){let y;try{y=new ArrayBuffer(f)}catch(R){o._errorSteps(R);return}let w={buffer:y,bufferByteLength:f,byteOffset:0,byteLength:f,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(w)}so(u,o),ht(this)}}Object.defineProperties($t.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty($t.prototype,e.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function ct(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledReadableByteStream")?!1:s instanceof $t}function ws(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_associatedReadableByteStreamController")?!1:s instanceof dr}function ht(s){if(!Yh(s))return;if(s._pulling){s._pullAgain=!0;return}s._pulling=!0;let u=s._pullAlgorithm();S(u,()=>{s._pulling=!1,s._pullAgain&&(s._pullAgain=!1,ht(s))},f=>{Oe(s,f)})}function go(s){Rs(s),s._pendingPullIntos=new G}function Ss(s,o){let u=!1;s._state==="closed"&&(u=!0);let f=bo(o);o.readerType==="default"?bs(s,f,u):Xh(s,f,u)}function bo(s){let o=s.bytesFilled,u=s.elementSize;return new s.viewConstructor(s.buffer,s.byteOffset,o/u)}function Zr(s,o,u,f){s._queue.push({buffer:o,byteOffset:u,byteLength:f}),s._queueTotalSize+=f}function yo(s,o){let u=o.elementSize,f=o.bytesFilled-o.bytesFilled%u,y=Math.min(s._queueTotalSize,o.byteLength-o.bytesFilled),w=o.bytesFilled+y,R=w-w%u,x=y,B=!1;R>f&&(x=R-o.bytesFilled,B=!0);let U=s._queue;for(;x>0;){let M=U.peek(),W=Math.min(x,M.byteLength),re=o.byteOffset+o.bytesFilled;fo(o.buffer,re,M.buffer,M.byteOffset,W),M.byteLength===W?U.shift():(M.byteOffset+=W,M.byteLength-=W),s._queueTotalSize-=W,_o(s,W,o),x-=W}return B}function _o(s,o,u){u.bytesFilled+=o}function wo(s){s._queueTotalSize===0&&s._closeRequested?(en(s),Er(s._controlledReadableByteStream)):ht(s)}function Rs(s){s._byobRequest!==null&&(s._byobRequest._associatedReadableByteStreamController=void 0,s._byobRequest._view=null,s._byobRequest=null)}function So(s){for(;s._pendingPullIntos.length>0;){if(s._queueTotalSize===0)return;let o=s._pendingPullIntos.peek();yo(s,o)&&(Jr(s),Ss(s._controlledReadableByteStream,o))}}function jh(s,o,u){let f=s._controlledReadableByteStream,y=1;o.constructor!==DataView&&(y=o.constructor.BYTES_PER_ELEMENT);let w=o.constructor,R=o.buffer,x={buffer:R,bufferByteLength:R.byteLength,byteOffset:o.byteOffset,byteLength:o.byteLength,bytesFilled:0,elementSize:y,viewConstructor:w,readerType:"byob"};if(s._pendingPullIntos.length>0){s._pendingPullIntos.push(x),Co(f,u);return}if(f._state==="closed"){let B=new w(x.buffer,x.byteOffset,0);u._closeSteps(B);return}if(s._queueTotalSize>0){if(yo(s,x)){let B=bo(x);wo(s),u._chunkSteps(B);return}if(s._closeRequested){let B=new TypeError("Insufficient bytes to fill elements in the given buffer");Oe(s,B),u._errorSteps(B);return}}s._pendingPullIntos.push(x),Co(f,u),ht(s)}function Vh(s,o){let u=s._controlledReadableByteStream;if(As(u))for(;vo(u)>0;){let f=Jr(s);Ss(u,f)}}function Gh(s,o,u){if(_o(s,o,u),u.bytesFilled<u.elementSize)return;Jr(s);let f=u.bytesFilled%u.elementSize;if(f>0){let y=u.byteOffset+u.bytesFilled,w=po(u.buffer,y-f,y);Zr(s,w,0,w.byteLength)}u.bytesFilled-=f,Ss(s._controlledReadableByteStream,u),So(s)}function Ro(s,o){let u=s._pendingPullIntos.peek();Rs(s),s._controlledReadableByteStream._state==="closed"?Vh(s):Gh(s,o,u),ht(s)}function Jr(s){return s._pendingPullIntos.shift()}function Yh(s){let o=s._controlledReadableByteStream;return o._state!=="readable"||s._closeRequested||!s._started?!1:!!(io(o)&&Qr(o)>0||As(o)&&vo(o)>0||Eo(s)>0)}function en(s){s._pullAlgorithm=void 0,s._cancelAlgorithm=void 0}function pr(s){let o=s._controlledReadableByteStream;if(!(s._closeRequested||o._state!=="readable")){if(s._queueTotalSize>0){s._closeRequested=!0;return}if(s._pendingPullIntos.length>0&&s._pendingPullIntos.peek().bytesFilled>0){let f=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Oe(s,f),f}en(s),Er(o)}}function tn(s,o){let u=s._controlledReadableByteStream;if(s._closeRequested||u._state!=="readable")return;let f=o.buffer,y=o.byteOffset,w=o.byteLength,R=f;if(s._pendingPullIntos.length>0){let x=s._pendingPullIntos.peek();Xr(x.buffer),x.buffer=x.buffer}if(Rs(s),io(u))if(Qr(u)===0)Zr(s,R,y,w);else{s._pendingPullIntos.length>0&&Jr(s);let x=new Uint8Array(R,y,w);bs(u,x,!1)}else As(u)?(Zr(s,R,y,w),So(s)):Zr(s,R,y,w);ht(s)}function Oe(s,o){let u=s._controlledReadableByteStream;u._state==="readable"&&(go(s),Je(s),en(s),Xo(u,o))}function Es(s){if(s._byobRequest===null&&s._pendingPullIntos.length>0){let o=s._pendingPullIntos.peek(),u=new Uint8Array(o.buffer,o.byteOffset+o.bytesFilled,o.byteLength-o.bytesFilled),f=Object.create(dr.prototype);Kh(f,s,u),s._byobRequest=f}return s._byobRequest}function Eo(s){let o=s._controlledReadableByteStream._state;return o==="errored"?null:o==="closed"?0:s._strategyHWM-s._queueTotalSize}function rn(s,o){let u=s._pendingPullIntos.peek();if(s._controlledReadableByteStream._state==="closed"){if(o!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(o===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(u.bytesFilled+o>u.byteLength)throw new RangeError("bytesWritten out of range")}u.buffer=u.buffer,Ro(s,o)}function nn(s,o){let u=s._pendingPullIntos.peek();if(s._controlledReadableByteStream._state==="closed"){if(o.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(o.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(u.byteOffset+u.bytesFilled!==o.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(u.bufferByteLength!==o.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(u.bytesFilled+o.byteLength>u.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let y=o.byteLength;u.buffer=o.buffer,Ro(s,y)}function To(s,o,u,f,y,w,R){o._controlledReadableByteStream=s,o._pullAgain=!1,o._pulling=!1,o._byobRequest=null,o._queue=o._queueTotalSize=void 0,Je(o),o._closeRequested=!1,o._started=!1,o._strategyHWM=w,o._pullAlgorithm=f,o._cancelAlgorithm=y,o._autoAllocateChunkSize=R,o._pendingPullIntos=new G,s._readableStreamController=o;let x=u();S(m(x),()=>{o._started=!0,ht(o)},B=>{Oe(o,B)})}function Qh(s,o,u){let f=Object.create($t.prototype),y=()=>{},w=()=>m(void 0),R=()=>m(void 0);o.start!==void 0&&(y=()=>o.start(f)),o.pull!==void 0&&(w=()=>o.pull(f)),o.cancel!==void 0&&(R=B=>o.cancel(B));let x=o.autoAllocateChunkSize;if(x===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");To(s,f,y,w,R,u,x)}function Kh(s,o,u){s._associatedReadableByteStreamController=o,s._view=u}function Ts(s){return new TypeError(`ReadableStreamBYOBRequest.prototype.${s} can only be used on a ReadableStreamBYOBRequest`)}function mr(s){return new TypeError(`ReadableByteStreamController.prototype.${s} can only be used on a ReadableByteStreamController`)}function Ao(s){return new gr(s)}function Co(s,o){s._reader._readIntoRequests.push(o)}function Xh(s,o,u){let y=s._reader._readIntoRequests.shift();u?y._closeSteps(o):y._chunkSteps(o)}function vo(s){return s._reader._readIntoRequests.length}function As(s){let o=s._reader;return!(o===void 0||!ft(o))}class gr{constructor(o){if(Me(o,1,"ReadableStreamBYOBReader"),gs(o,"First parameter"),nt(o))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ct(o._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Z(this,o),this._readIntoRequests=new G}get closed(){return ft(this)?this._closedPromise:p(sn("closed"))}cancel(o=void 0){return ft(this)?this._ownerReadableStream===void 0?p(De("cancel")):te(this,o):p(sn("cancel"))}read(o){if(!ft(this))return p(sn("read"));if(!ArrayBuffer.isView(o))return p(new TypeError("view must be an array buffer view"));if(o.byteLength===0)return p(new TypeError("view must have non-zero byteLength"));if(o.buffer.byteLength===0)return p(new TypeError("view's buffer must have non-zero byteLength"));if(Xr(o.buffer),this._ownerReadableStream===void 0)return p(De("read from"));let u,f,y=b((R,x)=>{u=R,f=x});return xo(this,o,{_chunkSteps:R=>u({value:R,done:!1}),_closeSteps:R=>u({value:R,done:!0}),_errorSteps:R=>f(R)}),y}releaseLock(){if(!ft(this))throw sn("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");oe(this)}}}Object.defineProperties(gr.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(gr.prototype,e.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function ft(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_readIntoRequests")?!1:s instanceof gr}function xo(s,o,u){let f=s._ownerReadableStream;f._disturbed=!0,f._state==="errored"?u._errorSteps(f._storedError):jh(f._readableStreamController,o,u)}function sn(s){return new TypeError(`ReadableStreamBYOBReader.prototype.${s} can only be used on a ReadableStreamBYOBReader`)}function br(s,o){let{highWaterMark:u}=s;if(u===void 0)return o;if(ho(u)||u<0)throw new RangeError("Invalid highWaterMark");return u}function on(s){let{size:o}=s;return o||(()=>1)}function an(s,o){ze(s,o);let u=s==null?void 0:s.highWaterMark,f=s==null?void 0:s.size;return{highWaterMark:u===void 0?void 0:ms(u),size:f===void 0?void 0:Zh(f,`${o} has member 'size' that`)}}function Zh(s,o){return xe(s,o),u=>ms(s(u))}function Jh(s,o){ze(s,o);let u=s==null?void 0:s.abort,f=s==null?void 0:s.close,y=s==null?void 0:s.start,w=s==null?void 0:s.type,R=s==null?void 0:s.write;return{abort:u===void 0?void 0:ef(u,s,`${o} has member 'abort' that`),close:f===void 0?void 0:tf(f,s,`${o} has member 'close' that`),start:y===void 0?void 0:rf(y,s,`${o} has member 'start' that`),write:R===void 0?void 0:nf(R,s,`${o} has member 'write' that`),type:w}}function ef(s,o,u){return xe(s,u),f=>D(s,o,[f])}function tf(s,o,u){return xe(s,u),()=>D(s,o,[])}function rf(s,o,u){return xe(s,u),f=>$(s,o,[f])}function nf(s,o,u){return xe(s,u),(f,y)=>D(s,o,[f,y])}function Oo(s,o){if(!Lt(s))throw new TypeError(`${o} is not a WritableStream.`)}function sf(s){if(typeof s!="object"||s===null)return!1;try{return typeof s.aborted=="boolean"}catch{return!1}}let of=typeof AbortController=="function";function af(){if(of)return new AbortController}class yr{constructor(o={},u={}){o===void 0?o=null:to(o,"First parameter");let f=an(u,"Second parameter"),y=Jh(o,"First parameter");if($o(this),y.type!==void 0)throw new RangeError("Invalid type is specified");let R=on(f),x=br(f,1);Sf(this,y,x,R)}get locked(){if(!Lt(this))throw fn("locked");return Pt(this)}abort(o=void 0){return Lt(this)?Pt(this)?p(new TypeError("Cannot abort a stream that already has a writer")):ln(this,o):p(fn("abort"))}close(){return Lt(this)?Pt(this)?p(new TypeError("Cannot close a stream that already has a writer")):He(this)?p(new TypeError("Cannot close an already-closing stream")):Lo(this):p(fn("close"))}getWriter(){if(!Lt(this))throw fn("getWriter");return Io(this)}}Object.defineProperties(yr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(yr.prototype,e.toStringTag,{value:"WritableStream",configurable:!0});function Io(s){return new _r(s)}function lf(s,o,u,f,y=1,w=()=>1){let R=Object.create(yr.prototype);$o(R);let x=Object.create(Nt.prototype);return Fo(R,x,s,o,u,f,y,w),R}function $o(s){s._state="writable",s._storedError=void 0,s._writer=void 0,s._writableStreamController=void 0,s._writeRequests=new G,s._inFlightWriteRequest=void 0,s._closeRequest=void 0,s._inFlightCloseRequest=void 0,s._pendingAbortRequest=void 0,s._backpressure=!1}function Lt(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_writableStreamController")?!1:s instanceof yr}function Pt(s){return s._writer!==void 0}function ln(s,o){var u;if(s._state==="closed"||s._state==="errored")return m(void 0);s._writableStreamController._abortReason=o,(u=s._writableStreamController._abortController)===null||u===void 0||u.abort();let f=s._state;if(f==="closed"||f==="errored")return m(void 0);if(s._pendingAbortRequest!==void 0)return s._pendingAbortRequest._promise;let y=!1;f==="erroring"&&(y=!0,o=void 0);let w=b((R,x)=>{s._pendingAbortRequest={_promise:void 0,_resolve:R,_reject:x,_reason:o,_wasAlreadyErroring:y}});return s._pendingAbortRequest._promise=w,y||vs(s,o),w}function Lo(s){let o=s._state;if(o==="closed"||o==="errored")return p(new TypeError(`The stream (in ${o} state) is not in the writable state and cannot be closed`));let u=b((y,w)=>{let R={_resolve:y,_reject:w};s._closeRequest=R}),f=s._writer;return f!==void 0&&s._backpressure&&o==="writable"&&Hs(f),Rf(s._writableStreamController),u}function uf(s){return b((u,f)=>{let y={_resolve:u,_reject:f};s._writeRequests.push(y)})}function Cs(s,o){if(s._state==="writable"){vs(s,o);return}xs(s)}function vs(s,o){let u=s._writableStreamController;s._state="erroring",s._storedError=o;let f=s._writer;f!==void 0&&No(f,o),!pf(s)&&u._started&&xs(s)}function xs(s){s._state="errored",s._writableStreamController[Xe]();let o=s._storedError;if(s._writeRequests.forEach(y=>{y._reject(o)}),s._writeRequests=new G,s._pendingAbortRequest===void 0){un(s);return}let u=s._pendingAbortRequest;if(s._pendingAbortRequest=void 0,u._wasAlreadyErroring){u._reject(o),un(s);return}let f=s._writableStreamController[xt](u._reason);S(f,()=>{u._resolve(),un(s)},y=>{u._reject(y),un(s)})}function cf(s){s._inFlightWriteRequest._resolve(void 0),s._inFlightWriteRequest=void 0}function hf(s,o){s._inFlightWriteRequest._reject(o),s._inFlightWriteRequest=void 0,Cs(s,o)}function ff(s){s._inFlightCloseRequest._resolve(void 0),s._inFlightCloseRequest=void 0,s._state==="erroring"&&(s._storedError=void 0,s._pendingAbortRequest!==void 0&&(s._pendingAbortRequest._resolve(),s._pendingAbortRequest=void 0)),s._state="closed";let u=s._writer;u!==void 0&&Mo(u)}function df(s,o){s._inFlightCloseRequest._reject(o),s._inFlightCloseRequest=void 0,s._pendingAbortRequest!==void 0&&(s._pendingAbortRequest._reject(o),s._pendingAbortRequest=void 0),Cs(s,o)}function He(s){return!(s._closeRequest===void 0&&s._inFlightCloseRequest===void 0)}function pf(s){return!(s._inFlightWriteRequest===void 0&&s._inFlightCloseRequest===void 0)}function mf(s){s._inFlightCloseRequest=s._closeRequest,s._closeRequest=void 0}function gf(s){s._inFlightWriteRequest=s._writeRequests.shift()}function un(s){s._closeRequest!==void 0&&(s._closeRequest._reject(s._storedError),s._closeRequest=void 0);let o=s._writer;o!==void 0&&Ns(o,s._storedError)}function Os(s,o){let u=s._writer;u!==void 0&&o!==s._backpressure&&(o?Of(u):Hs(u)),s._backpressure=o}class _r{constructor(o){if(Me(o,1,"WritableStreamDefaultWriter"),Oo(o,"First parameter"),Pt(o))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=o,o._writer=this;let u=o._state;if(u==="writable")!He(o)&&o._backpressure?pn(this):Wo(this),dn(this);else if(u==="erroring")Ds(this,o._storedError),dn(this);else if(u==="closed")Wo(this),vf(this);else{let f=o._storedError;Ds(this,f),zo(this,f)}}get closed(){return dt(this)?this._closedPromise:p(pt("closed"))}get desiredSize(){if(!dt(this))throw pt("desiredSize");if(this._ownerWritableStream===void 0)throw wr("desiredSize");return wf(this)}get ready(){return dt(this)?this._readyPromise:p(pt("ready"))}abort(o=void 0){return dt(this)?this._ownerWritableStream===void 0?p(wr("abort")):bf(this,o):p(pt("abort"))}close(){if(!dt(this))return p(pt("close"));let o=this._ownerWritableStream;return o===void 0?p(wr("close")):He(o)?p(new TypeError("Cannot close an already-closing stream")):Po(this)}releaseLock(){if(!dt(this))throw pt("releaseLock");this._ownerWritableStream!==void 0&&Do(this)}write(o=void 0){return dt(this)?this._ownerWritableStream===void 0?p(wr("write to")):Ho(this,o):p(pt("write"))}}Object.defineProperties(_r.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(_r.prototype,e.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function dt(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_ownerWritableStream")?!1:s instanceof _r}function bf(s,o){let u=s._ownerWritableStream;return ln(u,o)}function Po(s){let o=s._ownerWritableStream;return Lo(o)}function yf(s){let o=s._ownerWritableStream,u=o._state;return He(o)||u==="closed"?m(void 0):u==="errored"?p(o._storedError):Po(s)}function _f(s,o){s._closedPromiseState==="pending"?Ns(s,o):xf(s,o)}function No(s,o){s._readyPromiseState==="pending"?ko(s,o):If(s,o)}function wf(s){let o=s._ownerWritableStream,u=o._state;return u==="errored"||u==="erroring"?null:u==="closed"?0:qo(o._writableStreamController)}function Do(s){let o=s._ownerWritableStream,u=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");No(s,u),_f(s,u),o._writer=void 0,s._ownerWritableStream=void 0}function Ho(s,o){let u=s._ownerWritableStream,f=u._writableStreamController,y=Ef(f,o);if(u!==s._ownerWritableStream)return p(wr("write to"));let w=u._state;if(w==="errored")return p(u._storedError);if(He(u)||w==="closed")return p(new TypeError("The stream is closing or closed and cannot be written to"));if(w==="erroring")return p(u._storedError);let R=uf(u);return Tf(f,o,y),R}let Bo={};class Nt{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Is(this))throw Ps("abortReason");return this._abortReason}get signal(){if(!Is(this))throw Ps("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(o=void 0){if(!Is(this))throw Ps("error");this._controlledWritableStream._state==="writable"&&Uo(this,o)}[xt](o){let u=this._abortAlgorithm(o);return cn(this),u}[Xe](){Je(this)}}Object.defineProperties(Nt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Nt.prototype,e.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Is(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledWritableStream")?!1:s instanceof Nt}function Fo(s,o,u,f,y,w,R,x){o._controlledWritableStream=s,s._writableStreamController=o,o._queue=void 0,o._queueTotalSize=void 0,Je(o),o._abortReason=void 0,o._abortController=af(),o._started=!1,o._strategySizeAlgorithm=x,o._strategyHWM=R,o._writeAlgorithm=f,o._closeAlgorithm=y,o._abortAlgorithm=w;let B=Ls(o);Os(s,B);let U=u(),M=m(U);S(M,()=>{o._started=!0,hn(o)},W=>{o._started=!0,Cs(s,W)})}function Sf(s,o,u,f){let y=Object.create(Nt.prototype),w=()=>{},R=()=>m(void 0),x=()=>m(void 0),B=()=>m(void 0);o.start!==void 0&&(w=()=>o.start(y)),o.write!==void 0&&(R=U=>o.write(U,y)),o.close!==void 0&&(x=()=>o.close()),o.abort!==void 0&&(B=U=>o.abort(U)),Fo(s,y,w,R,x,B,u,f)}function cn(s){s._writeAlgorithm=void 0,s._closeAlgorithm=void 0,s._abortAlgorithm=void 0,s._strategySizeAlgorithm=void 0}function Rf(s){_s(s,Bo,0),hn(s)}function Ef(s,o){try{return s._strategySizeAlgorithm(o)}catch(u){return $s(s,u),1}}function qo(s){return s._strategyHWM-s._queueTotalSize}function Tf(s,o,u){try{_s(s,o,u)}catch(y){$s(s,y);return}let f=s._controlledWritableStream;if(!He(f)&&f._state==="writable"){let y=Ls(s);Os(f,y)}hn(s)}function hn(s){let o=s._controlledWritableStream;if(!s._started||o._inFlightWriteRequest!==void 0)return;if(o._state==="erroring"){xs(o);return}if(s._queue.length===0)return;let f=kh(s);f===Bo?Af(s):Cf(s,f)}function $s(s,o){s._controlledWritableStream._state==="writable"&&Uo(s,o)}function Af(s){let o=s._controlledWritableStream;mf(o),ys(s);let u=s._closeAlgorithm();cn(s),S(u,()=>{ff(o)},f=>{df(o,f)})}function Cf(s,o){let u=s._controlledWritableStream;gf(u);let f=s._writeAlgorithm(o);S(f,()=>{cf(u);let y=u._state;if(ys(s),!He(u)&&y==="writable"){let w=Ls(s);Os(u,w)}hn(s)},y=>{u._state==="writable"&&cn(s),hf(u,y)})}function Ls(s){return qo(s)<=0}function Uo(s,o){let u=s._controlledWritableStream;cn(s),vs(u,o)}function fn(s){return new TypeError(`WritableStream.prototype.${s} can only be used on a WritableStream`)}function Ps(s){return new TypeError(`WritableStreamDefaultController.prototype.${s} can only be used on a WritableStreamDefaultController`)}function pt(s){return new TypeError(`WritableStreamDefaultWriter.prototype.${s} can only be used on a WritableStreamDefaultWriter`)}function wr(s){return new TypeError("Cannot "+s+" a stream using a released writer")}function dn(s){s._closedPromise=b((o,u)=>{s._closedPromise_resolve=o,s._closedPromise_reject=u,s._closedPromiseState="pending"})}function zo(s,o){dn(s),Ns(s,o)}function vf(s){dn(s),Mo(s)}function Ns(s,o){s._closedPromise_reject!==void 0&&(P(s._closedPromise),s._closedPromise_reject(o),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0,s._closedPromiseState="rejected")}function xf(s,o){zo(s,o)}function Mo(s){s._closedPromise_resolve!==void 0&&(s._closedPromise_resolve(void 0),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0,s._closedPromiseState="resolved")}function pn(s){s._readyPromise=b((o,u)=>{s._readyPromise_resolve=o,s._readyPromise_reject=u}),s._readyPromiseState="pending"}function Ds(s,o){pn(s),ko(s,o)}function Wo(s){pn(s),Hs(s)}function ko(s,o){s._readyPromise_reject!==void 0&&(P(s._readyPromise),s._readyPromise_reject(o),s._readyPromise_resolve=void 0,s._readyPromise_reject=void 0,s._readyPromiseState="rejected")}function Of(s){pn(s)}function If(s,o){Ds(s,o)}function Hs(s){s._readyPromise_resolve!==void 0&&(s._readyPromise_resolve(void 0),s._readyPromise_resolve=void 0,s._readyPromise_reject=void 0,s._readyPromiseState="fulfilled")}let jo=typeof DOMException<"u"?DOMException:void 0;function $f(s){if(!(typeof s=="function"||typeof s=="object"))return!1;try{return new s,!0}catch{return!1}}function Lf(){let s=function(u,f){this.message=u||"",this.name=f||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return s.prototype=Object.create(Error.prototype),Object.defineProperty(s.prototype,"constructor",{value:s,writable:!0,configurable:!0}),s}let Pf=$f(jo)?jo:Lf();function Vo(s,o,u,f,y,w){let R=It(s),x=Io(o);s._disturbed=!0;let B=!1,U=m(void 0);return b((M,W)=>{let re;if(w!==void 0){if(re=()=>{let N=new Pf("Aborted","AbortError"),q=[];f||q.push(()=>o._state==="writable"?ln(o,N):m(void 0)),y||q.push(()=>s._state==="readable"?Ie(s,N):m(void 0)),de(()=>Promise.all(q.map(Y=>Y())),!0,N)},w.aborted){re();return}w.addEventListener("abort",re)}function $e(){return b((N,q)=>{function Y(be){be?N():_(Bt(),Y,q)}Y(!1)})}function Bt(){return B?m(!0):_(x._readyPromise,()=>b((N,q)=>{hr(R,{_chunkSteps:Y=>{U=_(Ho(x,Y),void 0,r),N(!1)},_closeSteps:()=>N(!0),_errorSteps:q})}))}if(We(s,R._closedPromise,N=>{f?Se(!0,N):de(()=>ln(o,N),!0,N)}),We(o,x._closedPromise,N=>{y?Se(!0,N):de(()=>Ie(s,N),!0,N)}),ue(s,R._closedPromise,()=>{u?Se():de(()=>yf(x))}),He(o)||o._state==="closed"){let N=new TypeError("the destination writable stream closed before all data could be piped to it");y?Se(!0,N):de(()=>Ie(s,N),!0,N)}P($e());function st(){let N=U;return _(U,()=>N!==U?st():void 0)}function We(N,q,Y){N._state==="errored"?Y(N._storedError):E(q,Y)}function ue(N,q,Y){N._state==="closed"?Y():A(q,Y)}function de(N,q,Y){if(B)return;B=!0,o._state==="writable"&&!He(o)?A(st(),be):be();function be(){S(N(),()=>ke(q,Y),Ft=>ke(!0,Ft))}}function Se(N,q){B||(B=!0,o._state==="writable"&&!He(o)?A(st(),()=>ke(N,q)):ke(N,q))}function ke(N,q){Do(x),oe(R),w!==void 0&&w.removeEventListener("abort",re),N?W(q):M(void 0)}})}class Dt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!mn(this))throw yn("desiredSize");return Bs(this)}close(){if(!mn(this))throw yn("close");if(!Ht(this))throw new TypeError("The stream is not in a state that permits close");Rr(this)}enqueue(o=void 0){if(!mn(this))throw yn("enqueue");if(!Ht(this))throw new TypeError("The stream is not in a state that permits enqueue");return bn(this,o)}error(o=void 0){if(!mn(this))throw yn("error");et(this,o)}[we](o){Je(this);let u=this._cancelAlgorithm(o);return gn(this),u}[fe](o){let u=this._controlledReadableStream;if(this._queue.length>0){let f=ys(this);this._closeRequested&&this._queue.length===0?(gn(this),Er(u)):Sr(this),o._chunkSteps(f)}else so(u,o),Sr(this)}}Object.defineProperties(Dt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Dt.prototype,e.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function mn(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledReadableStream")?!1:s instanceof Dt}function Sr(s){if(!Go(s))return;if(s._pulling){s._pullAgain=!0;return}s._pulling=!0;let u=s._pullAlgorithm();S(u,()=>{s._pulling=!1,s._pullAgain&&(s._pullAgain=!1,Sr(s))},f=>{et(s,f)})}function Go(s){let o=s._controlledReadableStream;return!Ht(s)||!s._started?!1:!!(nt(o)&&Qr(o)>0||Bs(s)>0)}function gn(s){s._pullAlgorithm=void 0,s._cancelAlgorithm=void 0,s._strategySizeAlgorithm=void 0}function Rr(s){if(!Ht(s))return;let o=s._controlledReadableStream;s._closeRequested=!0,s._queue.length===0&&(gn(s),Er(o))}function bn(s,o){if(!Ht(s))return;let u=s._controlledReadableStream;if(nt(u)&&Qr(u)>0)bs(u,o,!1);else{let f;try{f=s._strategySizeAlgorithm(o)}catch(y){throw et(s,y),y}try{_s(s,o,f)}catch(y){throw et(s,y),y}}Sr(s)}function et(s,o){let u=s._controlledReadableStream;u._state==="readable"&&(Je(s),gn(s),Xo(u,o))}function Bs(s){let o=s._controlledReadableStream._state;return o==="errored"?null:o==="closed"?0:s._strategyHWM-s._queueTotalSize}function Nf(s){return!Go(s)}function Ht(s){let o=s._controlledReadableStream._state;return!s._closeRequested&&o==="readable"}function Yo(s,o,u,f,y,w,R){o._controlledReadableStream=s,o._queue=void 0,o._queueTotalSize=void 0,Je(o),o._started=!1,o._closeRequested=!1,o._pullAgain=!1,o._pulling=!1,o._strategySizeAlgorithm=R,o._strategyHWM=w,o._pullAlgorithm=f,o._cancelAlgorithm=y,s._readableStreamController=o;let x=u();S(m(x),()=>{o._started=!0,Sr(o)},B=>{et(o,B)})}function Df(s,o,u,f){let y=Object.create(Dt.prototype),w=()=>{},R=()=>m(void 0),x=()=>m(void 0);o.start!==void 0&&(w=()=>o.start(y)),o.pull!==void 0&&(R=()=>o.pull(y)),o.cancel!==void 0&&(x=B=>o.cancel(B)),Yo(s,y,w,R,x,u,f)}function yn(s){return new TypeError(`ReadableStreamDefaultController.prototype.${s} can only be used on a ReadableStreamDefaultController`)}function Hf(s,o){return ct(s._readableStreamController)?Ff(s):Bf(s)}function Bf(s,o){let u=It(s),f=!1,y=!1,w=!1,R=!1,x,B,U,M,W,re=b(ue=>{W=ue});function $e(){return f?(y=!0,m(void 0)):(f=!0,hr(u,{_chunkSteps:de=>{T(()=>{y=!1;let Se=de,ke=de;w||bn(U._readableStreamController,Se),R||bn(M._readableStreamController,ke),f=!1,y&&$e()})},_closeSteps:()=>{f=!1,w||Rr(U._readableStreamController),R||Rr(M._readableStreamController),(!w||!R)&&W(void 0)},_errorSteps:()=>{f=!1}}),m(void 0))}function Bt(ue){if(w=!0,x=ue,R){let de=fr([x,B]),Se=Ie(s,de);W(Se)}return re}function st(ue){if(R=!0,B=ue,w){let de=fr([x,B]),Se=Ie(s,de);W(Se)}return re}function We(){}return U=Fs(We,$e,Bt),M=Fs(We,$e,st),E(u._closedPromise,ue=>{et(U._readableStreamController,ue),et(M._readableStreamController,ue),(!w||!R)&&W(void 0)}),[U,M]}function Ff(s){let o=It(s),u=!1,f=!1,y=!1,w=!1,R=!1,x,B,U,M,W,re=b(N=>{W=N});function $e(N){E(N._closedPromise,q=>{N===o&&(Oe(U._readableStreamController,q),Oe(M._readableStreamController,q),(!w||!R)&&W(void 0))})}function Bt(){ft(o)&&(oe(o),o=It(s),$e(o)),hr(o,{_chunkSteps:q=>{T(()=>{f=!1,y=!1;let Y=q,be=q;if(!w&&!R)try{be=mo(q)}catch(Ft){Oe(U._readableStreamController,Ft),Oe(M._readableStreamController,Ft),W(Ie(s,Ft));return}w||tn(U._readableStreamController,Y),R||tn(M._readableStreamController,be),u=!1,f?We():y&&ue()})},_closeSteps:()=>{u=!1,w||pr(U._readableStreamController),R||pr(M._readableStreamController),U._readableStreamController._pendingPullIntos.length>0&&rn(U._readableStreamController,0),M._readableStreamController._pendingPullIntos.length>0&&rn(M._readableStreamController,0),(!w||!R)&&W(void 0)},_errorSteps:()=>{u=!1}})}function st(N,q){Ze(o)&&(oe(o),o=Ao(s),$e(o));let Y=q?M:U,be=q?U:M;xo(o,N,{_chunkSteps:qt=>{T(()=>{f=!1,y=!1;let Ut=q?R:w;if(q?w:R)Ut||nn(Y._readableStreamController,qt);else{let ca;try{ca=mo(qt)}catch(Us){Oe(Y._readableStreamController,Us),Oe(be._readableStreamController,Us),W(Ie(s,Us));return}Ut||nn(Y._readableStreamController,qt),tn(be._readableStreamController,ca)}u=!1,f?We():y&&ue()})},_closeSteps:qt=>{u=!1;let Ut=q?R:w,vn=q?w:R;Ut||pr(Y._readableStreamController),vn||pr(be._readableStreamController),qt!==void 0&&(Ut||nn(Y._readableStreamController,qt),!vn&&be._readableStreamController._pendingPullIntos.length>0&&rn(be._readableStreamController,0)),(!Ut||!vn)&&W(void 0)},_errorSteps:()=>{u=!1}})}function We(){if(u)return f=!0,m(void 0);u=!0;let N=Es(U._readableStreamController);return N===null?Bt():st(N._view,!1),m(void 0)}function ue(){if(u)return y=!0,m(void 0);u=!0;let N=Es(M._readableStreamController);return N===null?Bt():st(N._view,!0),m(void 0)}function de(N){if(w=!0,x=N,R){let q=fr([x,B]),Y=Ie(s,q);W(Y)}return re}function Se(N){if(R=!0,B=N,w){let q=fr([x,B]),Y=Ie(s,q);W(Y)}return re}function ke(){}return U=Ko(ke,We,de),M=Ko(ke,ue,Se),$e(o),[U,M]}function qf(s,o){ze(s,o);let u=s,f=u==null?void 0:u.autoAllocateChunkSize,y=u==null?void 0:u.cancel,w=u==null?void 0:u.pull,R=u==null?void 0:u.start,x=u==null?void 0:u.type;return{autoAllocateChunkSize:f===void 0?void 0:no(f,`${o} has member 'autoAllocateChunkSize' that`),cancel:y===void 0?void 0:Uf(y,u,`${o} has member 'cancel' that`),pull:w===void 0?void 0:zf(w,u,`${o} has member 'pull' that`),start:R===void 0?void 0:Mf(R,u,`${o} has member 'start' that`),type:x===void 0?void 0:Wf(x,`${o} has member 'type' that`)}}function Uf(s,o,u){return xe(s,u),f=>D(s,o,[f])}function zf(s,o,u){return xe(s,u),f=>D(s,o,[f])}function Mf(s,o,u){return xe(s,u),f=>$(s,o,[f])}function Wf(s,o){if(s=`${s}`,s!=="bytes")throw new TypeError(`${o} '${s}' is not a valid enumeration value for ReadableStreamType`);return s}function kf(s,o){ze(s,o);let u=s==null?void 0:s.mode;return{mode:u===void 0?void 0:jf(u,`${o} has member 'mode' that`)}}function jf(s,o){if(s=`${s}`,s!=="byob")throw new TypeError(`${o} '${s}' is not a valid enumeration value for ReadableStreamReaderMode`);return s}function Vf(s,o){return ze(s,o),{preventCancel:!!(s==null?void 0:s.preventCancel)}}function Qo(s,o){ze(s,o);let u=s==null?void 0:s.preventAbort,f=s==null?void 0:s.preventCancel,y=s==null?void 0:s.preventClose,w=s==null?void 0:s.signal;return w!==void 0&&Gf(w,`${o} has member 'signal' that`),{preventAbort:!!u,preventCancel:!!f,preventClose:!!y,signal:w}}function Gf(s,o){if(!sf(s))throw new TypeError(`${o} is not an AbortSignal.`)}function Yf(s,o){ze(s,o);let u=s==null?void 0:s.readable;ps(u,"readable","ReadableWritablePair"),gs(u,`${o} has member 'readable' that`);let f=s==null?void 0:s.writable;return ps(f,"writable","ReadableWritablePair"),Oo(f,`${o} has member 'writable' that`),{readable:u,writable:f}}class tt{constructor(o={},u={}){o===void 0?o=null:to(o,"First parameter");let f=an(u,"Second parameter"),y=qf(o,"First parameter");if(qs(this),y.type==="bytes"){if(f.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let w=br(f,0);Qh(this,y,w)}else{let w=on(f),R=br(f,1);Df(this,y,R,w)}}get locked(){if(!rt(this))throw mt("locked");return nt(this)}cancel(o=void 0){return rt(this)?nt(this)?p(new TypeError("Cannot cancel a stream that already has a reader")):Ie(this,o):p(mt("cancel"))}getReader(o=void 0){if(!rt(this))throw mt("getReader");return kf(o,"First parameter").mode===void 0?It(this):Ao(this)}pipeThrough(o,u={}){if(!rt(this))throw mt("pipeThrough");Me(o,1,"pipeThrough");let f=Yf(o,"First parameter"),y=Qo(u,"Second parameter");if(nt(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Pt(f.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let w=Vo(this,f.writable,y.preventClose,y.preventAbort,y.preventCancel,y.signal);return P(w),f.readable}pipeTo(o,u={}){if(!rt(this))return p(mt("pipeTo"));if(o===void 0)return p("Parameter 1 is required in 'pipeTo'.");if(!Lt(o))return p(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let f;try{f=Qo(u,"Second parameter")}catch(y){return p(y)}return nt(this)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Pt(o)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Vo(this,o,f.preventClose,f.preventAbort,f.preventCancel,f.signal)}tee(){if(!rt(this))throw mt("tee");let o=Hf(this);return fr(o)}values(o=void 0){if(!rt(this))throw mt("values");let u=Vf(o,"First parameter");return Mh(this,u.preventCancel)}}Object.defineProperties(tt.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(tt.prototype,e.toStringTag,{value:"ReadableStream",configurable:!0}),typeof e.asyncIterator=="symbol"&&Object.defineProperty(tt.prototype,e.asyncIterator,{value:tt.prototype.values,writable:!0,configurable:!0});function Fs(s,o,u,f=1,y=()=>1){let w=Object.create(tt.prototype);qs(w);let R=Object.create(Dt.prototype);return Yo(w,R,s,o,u,f,y),w}function Ko(s,o,u){let f=Object.create(tt.prototype);qs(f);let y=Object.create($t.prototype);return To(f,y,s,o,u,0,void 0),f}function qs(s){s._state="readable",s._reader=void 0,s._storedError=void 0,s._disturbed=!1}function rt(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_readableStreamController")?!1:s instanceof tt}function nt(s){return s._reader!==void 0}function Ie(s,o){if(s._disturbed=!0,s._state==="closed")return m(void 0);if(s._state==="errored")return p(s._storedError);Er(s);let u=s._reader;u!==void 0&&ft(u)&&(u._readIntoRequests.forEach(y=>{y._closeSteps(void 0)}),u._readIntoRequests=new G);let f=s._readableStreamController[we](o);return L(f,r)}function Er(s){s._state="closed";let o=s._reader;o!==void 0&&(Ke(o),Ze(o)&&(o._readRequests.forEach(u=>{u._closeSteps()}),o._readRequests=new G))}function Xo(s,o){s._state="errored",s._storedError=o;let u=s._reader;u!==void 0&&(J(u,o),Ze(u)?(u._readRequests.forEach(f=>{f._errorSteps(o)}),u._readRequests=new G):(u._readIntoRequests.forEach(f=>{f._errorSteps(o)}),u._readIntoRequests=new G))}function mt(s){return new TypeError(`ReadableStream.prototype.${s} can only be used on a ReadableStream`)}function Zo(s,o){ze(s,o);let u=s==null?void 0:s.highWaterMark;return ps(u,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ms(u)}}let Jo=s=>s.byteLength;try{Object.defineProperty(Jo,"name",{value:"size",configurable:!0})}catch{}class _n{constructor(o){Me(o,1,"ByteLengthQueuingStrategy"),o=Zo(o,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=o.highWaterMark}get highWaterMark(){if(!ta(this))throw ea("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!ta(this))throw ea("size");return Jo}}Object.defineProperties(_n.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(_n.prototype,e.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function ea(s){return new TypeError(`ByteLengthQueuingStrategy.prototype.${s} can only be used on a ByteLengthQueuingStrategy`)}function ta(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_byteLengthQueuingStrategyHighWaterMark")?!1:s instanceof _n}let ra=()=>1;try{Object.defineProperty(ra,"name",{value:"size",configurable:!0})}catch{}class wn{constructor(o){Me(o,1,"CountQueuingStrategy"),o=Zo(o,"First parameter"),this._countQueuingStrategyHighWaterMark=o.highWaterMark}get highWaterMark(){if(!sa(this))throw na("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!sa(this))throw na("size");return ra}}Object.defineProperties(wn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(wn.prototype,e.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function na(s){return new TypeError(`CountQueuingStrategy.prototype.${s} can only be used on a CountQueuingStrategy`)}function sa(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_countQueuingStrategyHighWaterMark")?!1:s instanceof wn}function Qf(s,o){ze(s,o);let u=s==null?void 0:s.flush,f=s==null?void 0:s.readableType,y=s==null?void 0:s.start,w=s==null?void 0:s.transform,R=s==null?void 0:s.writableType;return{flush:u===void 0?void 0:Kf(u,s,`${o} has member 'flush' that`),readableType:f,start:y===void 0?void 0:Xf(y,s,`${o} has member 'start' that`),transform:w===void 0?void 0:Zf(w,s,`${o} has member 'transform' that`),writableType:R}}function Kf(s,o,u){return xe(s,u),f=>D(s,o,[f])}function Xf(s,o,u){return xe(s,u),f=>$(s,o,[f])}function Zf(s,o,u){return xe(s,u),(f,y)=>D(s,o,[f,y])}class Sn{constructor(o={},u={},f={}){o===void 0&&(o=null);let y=an(u,"Second parameter"),w=an(f,"Third parameter"),R=Qf(o,"First parameter");if(R.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(R.writableType!==void 0)throw new RangeError("Invalid writableType specified");let x=br(w,0),B=on(w),U=br(y,1),M=on(y),W,re=b($e=>{W=$e});Jf(this,re,U,M,x,B),td(this,R),R.start!==void 0?W(R.start(this._transformStreamController)):W(void 0)}get readable(){if(!ia(this))throw ua("readable");return this._readable}get writable(){if(!ia(this))throw ua("writable");return this._writable}}Object.defineProperties(Sn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Sn.prototype,e.toStringTag,{value:"TransformStream",configurable:!0});function Jf(s,o,u,f,y,w){function R(){return o}function x(re){return sd(s,re)}function B(re){return id(s,re)}function U(){return od(s)}s._writable=lf(R,x,U,B,u,f);function M(){return ad(s)}function W(re){return En(s,re),m(void 0)}s._readable=Fs(R,M,W,y,w),s._backpressure=void 0,s._backpressureChangePromise=void 0,s._backpressureChangePromise_resolve=void 0,Tn(s,!0),s._transformStreamController=void 0}function ia(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_transformStreamController")?!1:s instanceof Sn}function Rn(s,o){et(s._readable._readableStreamController,o),En(s,o)}function En(s,o){oa(s._transformStreamController),$s(s._writable._writableStreamController,o),s._backpressure&&Tn(s,!1)}function Tn(s,o){s._backpressureChangePromise!==void 0&&s._backpressureChangePromise_resolve(),s._backpressureChangePromise=b(u=>{s._backpressureChangePromise_resolve=u}),s._backpressure=o}class Tr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!An(this))throw Cn("desiredSize");let o=this._controlledTransformStream._readable._readableStreamController;return Bs(o)}enqueue(o=void 0){if(!An(this))throw Cn("enqueue");aa(this,o)}error(o=void 0){if(!An(this))throw Cn("error");rd(this,o)}terminate(){if(!An(this))throw Cn("terminate");nd(this)}}Object.defineProperties(Tr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Tr.prototype,e.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function An(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledTransformStream")?!1:s instanceof Tr}function ed(s,o,u,f){o._controlledTransformStream=s,s._transformStreamController=o,o._transformAlgorithm=u,o._flushAlgorithm=f}function td(s,o){let u=Object.create(Tr.prototype),f=w=>{try{return aa(u,w),m(void 0)}catch(R){return p(R)}},y=()=>m(void 0);o.transform!==void 0&&(f=w=>o.transform(w,u)),o.flush!==void 0&&(y=()=>o.flush(u)),ed(s,u,f,y)}function oa(s){s._transformAlgorithm=void 0,s._flushAlgorithm=void 0}function aa(s,o){let u=s._controlledTransformStream,f=u._readable._readableStreamController;if(!Ht(f))throw new TypeError("Readable side is not in a state that permits enqueue");try{bn(f,o)}catch(w){throw En(u,w),u._readable._storedError}Nf(f)!==u._backpressure&&Tn(u,!0)}function rd(s,o){Rn(s._controlledTransformStream,o)}function la(s,o){let u=s._transformAlgorithm(o);return L(u,void 0,f=>{throw Rn(s._controlledTransformStream,f),f})}function nd(s){let o=s._controlledTransformStream,u=o._readable._readableStreamController;Rr(u);let f=new TypeError("TransformStream terminated");En(o,f)}function sd(s,o){let u=s._transformStreamController;if(s._backpressure){let f=s._backpressureChangePromise;return L(f,()=>{let y=s._writable;if(y._state==="erroring")throw y._storedError;return la(u,o)})}return la(u,o)}function id(s,o){return Rn(s,o),m(void 0)}function od(s){let o=s._readable,u=s._transformStreamController,f=u._flushAlgorithm();return oa(u),L(f,()=>{if(o._state==="errored")throw o._storedError;Rr(o._readableStreamController)},y=>{throw Rn(s,y),o._storedError})}function ad(s){return Tn(s,!1),s._backpressureChangePromise}function Cn(s){return new TypeError(`TransformStreamDefaultController.prototype.${s} can only be used on a TransformStreamDefaultController`)}function ua(s){return new TypeError(`TransformStream.prototype.${s} can only be used on a TransformStream`)}t.ByteLengthQueuingStrategy=_n,t.CountQueuingStrategy=wn,t.ReadableByteStreamController=$t,t.ReadableStream=tt,t.ReadableStreamBYOBReader=gr,t.ReadableStreamBYOBRequest=dr,t.ReadableStreamDefaultController=Dt,t.ReadableStreamDefaultReader=cr,t.TransformStream=Sn,t.TransformStreamDefaultController=Tr,t.WritableStream=yr,t.WritableStreamDefaultController=Nt,t.WritableStreamDefaultWriter=_r,Object.defineProperty(t,"__esModule",{value:!0})})});var Ca=C(()=>{if(!globalThis.ReadableStream)try{let t=ye("node:process"),{emitWarning:e}=t;try{t.emitWarning=()=>{},Object.assign(globalThis,ye("node:stream/web")),t.emitWarning=e}catch(r){throw t.emitWarning=e,r}}catch{Object.assign(globalThis,Aa())}try{let{Blob:t}=ye("buffer");t&&!t.prototype.stream&&(t.prototype.stream=function(r){let n=0,i=this;return new ReadableStream({type:"bytes",async pull(a){let h=await i.slice(n,Math.min(i.size,n+65536)).arrayBuffer();n+=h.byteLength,a.enqueue(new Uint8Array(h)),n===i.size&&a.close()}})})}catch{}});async function*Xs(t,e=!0){for(let r of t)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(e){let n=r.byteOffset,i=r.byteOffset+r.byteLength;for(;n!==i;){let a=Math.min(i-n,va),l=r.buffer.slice(n,n+a);n+=l.byteLength,yield new Uint8Array(l)}}else yield r;else{let n=0,i=r;for(;n!==i.size;){let l=await i.slice(n,Math.min(i.size,n+va)).arrayBuffer();n+=l.byteLength,yield new Uint8Array(l)}}}var Py,va,xa,Ad,je,vr=Ar(()=>{Py=Le(Ca(),1);va=65536;xa=class Zs{#e=[];#r="";#t=0;#n="transparent";constructor(e=[],r={}){if(typeof e!="object"||e===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof e[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof r!="object"&&typeof r!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");r===null&&(r={});let n=new TextEncoder;for(let a of e){let l;ArrayBuffer.isView(a)?l=new Uint8Array(a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)):a instanceof ArrayBuffer?l=new Uint8Array(a.slice(0)):a instanceof Zs?l=a:l=n.encode(`${a}`),this.#t+=ArrayBuffer.isView(l)?l.byteLength:l.size,this.#e.push(l)}this.#n=`${r.endings===void 0?"transparent":r.endings}`;let i=r.type===void 0?"":String(r.type);this.#r=/^[\x20-\x7E]*$/.test(i)?i:""}get size(){return this.#t}get type(){return this.#r}async text(){let e=new TextDecoder,r="";for await(let n of Xs(this.#e,!1))r+=e.decode(n,{stream:!0});return r+=e.decode(),r}async arrayBuffer(){let e=new Uint8Array(this.size),r=0;for await(let n of Xs(this.#e,!1))e.set(n,r),r+=n.length;return e.buffer}stream(){let e=Xs(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(r){let n=await e.next();n.done?r.close():r.enqueue(n.value)},async cancel(){await e.return()}})}slice(e=0,r=this.size,n=""){let{size:i}=this,a=e<0?Math.max(i+e,0):Math.min(e,i),l=r<0?Math.max(i+r,0):Math.min(r,i),h=Math.max(l-a,0),d=this.#e,c=[],g=0;for(let m of d){if(g>=h)break;let p=ArrayBuffer.isView(m)?m.byteLength:m.size;if(a&&p<=a)a-=p,l-=p;else{let _;ArrayBuffer.isView(m)?(_=m.subarray(a,Math.min(p,l)),g+=_.byteLength):(_=m.slice(a,Math.min(p,l)),g+=_.size),l-=p,c.push(_),a=0}}let b=new Zs([],{type:String(n).toLowerCase()});return b.#t=h,b.#e=c,b}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&typeof e=="object"&&typeof e.constructor=="function"&&(typeof e.stream=="function"||typeof e.arrayBuffer=="function")&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(xa.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Ad=xa,je=Ad});var Cd,vd,Mt,Js=Ar(()=>{vr();Cd=class extends je{#e=0;#r="";constructor(e,r,n={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,n),n===null&&(n={});let i=n.lastModified===void 0?Date.now():Number(n.lastModified);Number.isNaN(i)||(this.#e=i),this.#r=String(r)}get name(){return this.#r}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof je&&/^(File)$/.test(e[Symbol.toStringTag])}},vd=Cd,Mt=vd});function $a(t,e=je){var r=`${Oa()}${Oa()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),n=[],i=`--${r}\r
Content-Disposition: form-data; name="`;return t.forEach((a,l)=>typeof a=="string"?n.push(i+ei(l)+`"\r
\r
${a.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):n.push(i+ei(l)+`"; filename="${ei(a.name,1)}"\r
Content-Type: ${a.type||"application/octet-stream"}\r
\r
`,a,`\r
`)),n.push(`--${r}--`),new e(n,{type:"multipart/form-data; boundary="+r})}var xr,xd,Od,Oa,Id,Ia,ei,gt,bt,On=Ar(()=>{vr();Js();({toStringTag:xr,iterator:xd,hasInstance:Od}=Symbol),Oa=Math.random,Id="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),Ia=(t,e,r)=>(t+="",/^(Blob|File)$/.test(e&&e[xr])?[(r=r!==void 0?r+"":e[xr]=="File"?e.name:"blob",t),e.name!==r||e[xr]=="blob"?new Mt([e],r,e):e]:[t,e+""]),ei=(t,e)=>(e?t:t.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),gt=(t,e,r)=>{if(e.length<r)throw new TypeError(`Failed to execute '${t}' on 'FormData': ${r} arguments required, but only ${e.length} present.`)},bt=class{#e=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[xr](){return"FormData"}[xd](){return this.entries()}static[Od](e){return e&&typeof e=="object"&&e[xr]==="FormData"&&!Id.some(r=>typeof e[r]!="function")}append(...e){gt("append",arguments,2),this.#e.push(Ia(...e))}delete(e){gt("delete",arguments,1),e+="",this.#e=this.#e.filter(([r])=>r!==e)}get(e){gt("get",arguments,1),e+="";for(var r=this.#e,n=r.length,i=0;i<n;i++)if(r[i][0]===e)return r[i][1];return null}getAll(e,r){return gt("getAll",arguments,1),r=[],e+="",this.#e.forEach(n=>n[0]===e&&r.push(n[1])),r}has(e){return gt("has",arguments,1),e+="",this.#e.some(r=>r[0]===e)}forEach(e,r){gt("forEach",arguments,1);for(var[n,i]of this)e.call(r,i,n,this)}set(...e){gt("set",arguments,2);var r=[],n=!0;e=Ia(...e),this.#e.forEach(i=>{i[0]===e[0]?n&&(n=!r.push(e)):r.push(i)}),n&&r.push(e),this.#e=r}*entries(){yield*this.#e}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}}});var Ha=C((Vy,Da)=>{if(!globalThis.DOMException)try{let{MessageChannel:t}=ye("worker_threads"),e=new t().port1,r=new ArrayBuffer;e.postMessage(r,[r,r])}catch(t){t.constructor.name==="DOMException"&&(globalThis.DOMException=t.constructor)}Da.exports=globalThis.DOMException});import{statSync as Yy,createReadStream as $d,promises as Ld}from"node:fs";var Fa,Pd,Ba,ri=Ar(()=>{Fa=Le(Ha(),1);Js();vr();({stat:Pd}=Ld),Ba=class t{#e;#r;constructor(e){this.#e=e.path,this.#r=e.start,this.size=e.size,this.lastModified=e.lastModified}slice(e,r){return new t({path:this.#e,lastModified:this.lastModified,size:r-e,start:this.#r+e})}async*stream(){let{mtimeMs:e}=await Pd(this.#e);if(e>this.lastModified)throw new Fa.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*$d(this.#e,{start:this.#r,end:this.#r+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}});var Ua={};dd(Ua,{toFormData:()=>Ud});function qd(t){let e=t.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!e)return;let r=e[2]||e[3]||"",n=r.slice(r.lastIndexOf("\\")+1);return n=n.replace(/%22/g,'"'),n=n.replace(/&#(\d{4});/g,(i,a)=>String.fromCharCode(a)),n}async function Ud(t,e){if(!/multipart/i.test(e))throw new TypeError("Failed to fetch");let r=e.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!r)throw new TypeError("no or bad content-type header, no multipart boundary");let n=new ni(r[1]||r[2]),i,a,l,h,d,c,g=[],b=new bt,m=E=>{l+=A.decode(E,{stream:!0})},p=E=>{g.push(E)},_=()=>{let E=new Mt(g,c,{type:d});b.append(h,E)},S=()=>{b.append(h,l)},A=new TextDecoder("utf-8");A.decode(),n.onPartBegin=function(){n.onPartData=m,n.onPartEnd=S,i="",a="",l="",h="",d="",c=null,g.length=0},n.onHeaderField=function(E){i+=A.decode(E,{stream:!0})},n.onHeaderValue=function(E){a+=A.decode(E,{stream:!0})},n.onHeaderEnd=function(){if(a+=A.decode(),i=i.toLowerCase(),i==="content-disposition"){let E=a.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);E&&(h=E[2]||E[3]||""),c=qd(a),c&&(n.onPartData=p,n.onPartEnd=_)}else i==="content-type"&&(d=a);a="",i=""};for await(let E of t)n.write(E);return n.end(),b}var Be,Q,qa,it,$n,Ln,Nd,Ir,Dd,Hd,Bd,Fd,yt,ni,za=Ar(()=>{ri();On();Be=0,Q={START_BOUNDARY:Be++,HEADER_FIELD_START:Be++,HEADER_FIELD:Be++,HEADER_VALUE_START:Be++,HEADER_VALUE:Be++,HEADER_VALUE_ALMOST_DONE:Be++,HEADERS_ALMOST_DONE:Be++,PART_DATA_START:Be++,PART_DATA:Be++,END:Be++},qa=1,it={PART_BOUNDARY:qa,LAST_BOUNDARY:qa*=2},$n=10,Ln=13,Nd=32,Ir=45,Dd=58,Hd=97,Bd=122,Fd=t=>t|32,yt=()=>{},ni=class{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=yt,this.onHeaderField=yt,this.onHeadersEnd=yt,this.onHeaderValue=yt,this.onPartBegin=yt,this.onPartData=yt,this.onPartEnd=yt,this.boundaryChars={},e=`\r
--`+e;let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n),this.boundaryChars[r[n]]=!0;this.boundary=r,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=Q.START_BOUNDARY}write(e){let r=0,n=e.length,i=this.index,{lookbehind:a,boundary:l,boundaryChars:h,index:d,state:c,flags:g}=this,b=this.boundary.length,m=b-1,p=e.length,_,S,A=T=>{this[T+"Mark"]=r},E=T=>{delete this[T+"Mark"]},L=(T,$,D,H)=>{($===void 0||$!==D)&&this[T](H&&H.subarray($,D))},P=(T,$)=>{let D=T+"Mark";D in this&&($?(L(T,this[D],r,e),delete this[D]):(L(T,this[D],e.length,e),this[D]=0))};for(r=0;r<n;r++)switch(_=e[r],c){case Q.START_BOUNDARY:if(d===l.length-2){if(_===Ir)g|=it.LAST_BOUNDARY;else if(_!==Ln)return;d++;break}else if(d-1===l.length-2){if(g&it.LAST_BOUNDARY&&_===Ir)c=Q.END,g=0;else if(!(g&it.LAST_BOUNDARY)&&_===$n)d=0,L("onPartBegin"),c=Q.HEADER_FIELD_START;else return;break}_!==l[d+2]&&(d=-2),_===l[d+2]&&d++;break;case Q.HEADER_FIELD_START:c=Q.HEADER_FIELD,A("onHeaderField"),d=0;case Q.HEADER_FIELD:if(_===Ln){E("onHeaderField"),c=Q.HEADERS_ALMOST_DONE;break}if(d++,_===Ir)break;if(_===Dd){if(d===1)return;P("onHeaderField",!0),c=Q.HEADER_VALUE_START;break}if(S=Fd(_),S<Hd||S>Bd)return;break;case Q.HEADER_VALUE_START:if(_===Nd)break;A("onHeaderValue"),c=Q.HEADER_VALUE;case Q.HEADER_VALUE:_===Ln&&(P("onHeaderValue",!0),L("onHeaderEnd"),c=Q.HEADER_VALUE_ALMOST_DONE);break;case Q.HEADER_VALUE_ALMOST_DONE:if(_!==$n)return;c=Q.HEADER_FIELD_START;break;case Q.HEADERS_ALMOST_DONE:if(_!==$n)return;L("onHeadersEnd"),c=Q.PART_DATA_START;break;case Q.PART_DATA_START:c=Q.PART_DATA,A("onPartData");case Q.PART_DATA:if(i=d,d===0){for(r+=m;r<p&&!(e[r]in h);)r+=b;r-=m,_=e[r]}if(d<l.length)l[d]===_?(d===0&&P("onPartData",!0),d++):d=0;else if(d===l.length)d++,_===Ln?g|=it.PART_BOUNDARY:_===Ir?g|=it.LAST_BOUNDARY:d=0;else if(d-1===l.length)if(g&it.PART_BOUNDARY){if(d=0,_===$n){g&=~it.PART_BOUNDARY,L("onPartEnd"),L("onPartBegin"),c=Q.HEADER_FIELD_START;break}}else g&it.LAST_BOUNDARY&&_===Ir?(L("onPartEnd"),c=Q.END,g=0):d=0;if(d>0)a[d-1]=_;else if(i>0){let T=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);L("onPartData",0,i,T),i=0,A("onPartData"),r--}break;case Q.END:break;default:throw new Error(`Unexpected state entered: ${c}`)}P("onHeaderField"),P("onHeaderValue"),P("onPartData"),this.index=d,this.state=c,this.flags=g}end(){if(this.state===Q.HEADER_FIELD_START&&this.index===0||this.state===Q.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==Q.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var il=C((Z_,sl)=>{function ep(t){return Buffer.from(t,"base64").toString("utf8")}function tp(t){return Buffer.from(t,"utf8").toString("base64")}sl.exports={decodeBase64:ep,encodeBase64:tp}});var ul=C(wt=>{wt.parse=wt.decode=rp;wt.stringify=wt.encode=ol;wt.safe=Gt;wt.unsafe=Un;var ai=typeof process<"u"&&process.platform==="win32"?`\r
`:`
`;function ol(t,e){var r=[],n="";typeof e=="string"?e={section:e,whitespace:!1}:(e=e||{},e.whitespace=e.whitespace===!0);var i=e.whitespace?" = ":"=";return Object.keys(t).forEach(function(a,l,h){var d=t[a];d&&Array.isArray(d)?d.forEach(function(c){n+=Gt(a+"[]")+i+Gt(c)+`
`}):d&&typeof d=="object"?r.push(a):n+=Gt(a)+i+Gt(d)+ai}),e.section&&n.length&&(n="["+Gt(e.section)+"]"+ai+n),r.forEach(function(a,l,h){var d=al(a).join("\\."),c=(e.section?e.section+".":"")+d,g=ol(t[a],{section:c,whitespace:e.whitespace});n.length&&g.length&&(n+=ai),n+=g}),n}function al(t){return t.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map(function(e){return e.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")})}function rp(t){var e={},r=e,n=null,i=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i,a=t.split(/[\r\n]+/g);return a.forEach(function(l,h,d){if(!(!l||l.match(/^\s*[;#]/))){var c=l.match(i);if(c){if(c[1]!==void 0){if(n=Un(c[1]),n==="__proto__"){r={};return}r=e[n]=e[n]||{};return}var g=Un(c[2]);if(g!=="__proto__"){var b=c[3]?Un(c[4]):!0;switch(b){case"true":case"false":case"null":b=JSON.parse(b)}if(g.length>2&&g.slice(-2)==="[]"){if(g=g.substring(0,g.length-2),g==="__proto__")return;r[g]?Array.isArray(r[g])||(r[g]=[r[g]]):r[g]=[]}Array.isArray(r[g])?r[g].push(b):r[g]=b}}}}),Object.keys(e).filter(function(l,h,d){if(!e[l]||typeof e[l]!="object"||Array.isArray(e[l]))return!1;var c=al(l),g=e,b=c.pop(),m=b.replace(/\\\./g,".");return c.forEach(function(p,_,S){p!=="__proto__"&&((!g[p]||typeof g[p]!="object")&&(g[p]={}),g=g[p])}),g===e&&m===b?!1:(g[m]=e[l],!0)}).forEach(function(l,h,d){delete e[l]}),e}function ll(t){return t.charAt(0)==='"'&&t.slice(-1)==='"'||t.charAt(0)==="'"&&t.slice(-1)==="'"}function Gt(t){return typeof t!="string"||t.match(/[=\r\n]/)||t.match(/^\[/)||t.length>1&&ll(t)||t!==t.trim()?JSON.stringify(t):t.replace(/;/g,"\\;").replace(/#/g,"\\#")}function Un(t,e){if(t=(t||"").trim(),ll(t)){t.charAt(0)==="'"&&(t=t.substr(1,t.length-2));try{t=JSON.parse(t)}catch{}}else{for(var r=!1,n="",i=0,a=t.length;i<a;i++){var l=t.charAt(i);if(r)"\\;#".indexOf(l)!==-1?n+=l:n+="\\"+l,r=!1;else{if(";#".indexOf(l)!==-1)break;l==="\\"?r=!0:n+=l}}return r&&(n+="\\"),n.trim()}return t}});var fl=C((ew,hl)=>{"use strict";var li=1,cl=2;function np(){return""}function sp(t,e,r){return t.slice(e,r).replace(/\S/g," ")}hl.exports=function(t,e){e=e||{};for(var r,n,i=!1,a=!1,l=0,h="",d=e.whitespace===!1?np:sp,c=0;c<t.length;c++){if(r=t[c],n=t[c+1],!a&&r==='"'){var g=t[c-1]==="\\"&&t[c-2]!=="\\";g||(i=!i)}if(!i){if(!a&&r+n==="//")h+=t.slice(l,c),l=c,a=li,c++;else if(a===li&&r+n===`\r
`){c++,a=!1,h+=d(t,l,c),l=c;continue}else if(a===li&&r===`
`)a=!1,h+=d(t,l,c),l=c;else if(!a&&r+n==="/*"){h+=t.slice(l,c),l=c,a=cl,c++;continue}else if(a===cl&&r+n==="*/"){c++,a=!1,h+=d(t,l,c+1),l=c+1;continue}}}return h+(a?d(t.substr(l)):t.substr(l))}});var pl=C(Yt=>{"use strict";var dl=ye("fs"),ip=ul(),Lr=ye("path"),op=fl(),ap=Yt.parse=function(t){return/^\s*{/.test(t)?JSON.parse(op(t)):ip.parse(t)},lp=Yt.file=function(){var t=[].slice.call(arguments).filter(function(i){return i!=null});for(var e in t)if(typeof t[e]!="string")return;var r=Lr.join.apply(null,t),n;try{return dl.readFileSync(r,"utf-8")}catch{return}},tw=Yt.json=function(){var t=lp.apply(null,arguments);return t?ap(t):null},rw=Yt.env=function(t,e){e=e||process.env;var r={},n=t.length;for(var i in e)if(i.toLowerCase().indexOf(t.toLowerCase())===0){for(var a=i.substring(n).split("__"),l;(l=a.indexOf(""))>-1;)a.splice(l,1);var h=r;a.forEach(function(c,g){!c||typeof h!="object"||(g===a.length-1&&(h[c]=e[i]),h[c]===void 0&&(h[c]={}),h=h[c])})}return r},nw=Yt.find=function(){var t=Lr.join.apply(null,[].slice.call(arguments));function e(r,n){var i=Lr.join(r,n);try{return dl.statSync(i),i}catch{if(Lr.dirname(r)!==r)return e(Lr.dirname(r),n)}}return e(process.cwd(),t)}});var wl=C((iw,_l)=>{"use strict";function gl(t){return t instanceof Buffer||t instanceof Date||t instanceof RegExp}function bl(t){if(t instanceof Buffer){var e=Buffer.alloc?Buffer.alloc(t.length):new Buffer(t.length);return t.copy(e),e}else{if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);throw new Error("Unexpected situation")}}function yl(t){var e=[];return t.forEach(function(r,n){typeof r=="object"&&r!==null?Array.isArray(r)?e[n]=yl(r):gl(r)?e[n]=bl(r):e[n]=ui({},r):e[n]=r}),e}function ml(t,e){return e==="__proto__"?void 0:t[e]}var ui=_l.exports=function(){if(arguments.length<1||typeof arguments[0]!="object")return!1;if(arguments.length<2)return arguments[0];var t=arguments[0],e=Array.prototype.slice.call(arguments,1),r,n,i;return e.forEach(function(a){typeof a!="object"||a===null||Array.isArray(a)||Object.keys(a).forEach(function(l){if(n=ml(t,l),r=ml(a,l),r!==t)if(typeof r!="object"||r===null){t[l]=r;return}else if(Array.isArray(r)){t[l]=yl(r);return}else if(gl(r)){t[l]=bl(r);return}else if(typeof n!="object"||n===null||Array.isArray(n)){t[l]=ui({},r);return}else{t[l]=ui(n,r);return}})}),t}});var ci=C((ow,El)=>{var Pr=pl(),Qt=ye("path").join,up=wl(),Sl="/etc",Rl=process.platform==="win32",Nr=Rl?process.env.USERPROFILE:process.env.HOME;El.exports=function(t,e,r,n){if(typeof t!="string")throw new Error("rc(name): name *must* be string");r||(r=Ks()(process.argv.slice(2))),e=(typeof e=="string"?Pr.json(e):e)||{},n=n||Pr.parse;var i=Pr.env(t+"_"),a=[e],l=[];function h(d){if(!(l.indexOf(d)>=0)){var c=Pr.file(d);c&&(a.push(n(c)),l.push(d))}}return Rl||[Qt(Sl,t,"config"),Qt(Sl,t+"rc")].forEach(h),Nr&&[Qt(Nr,".config",t,"config"),Qt(Nr,".config",t),Qt(Nr,"."+t,"config"),Qt(Nr,"."+t+"rc")].forEach(h),h(Pr.find("."+t+"rc")),i.config&&h(i.config),r.config&&h(r.config),up.apply(null,a.concat([i,r,l.length?{configs:l,config:l[l.length-1]}:void 0]))}});var $l=C((aw,Il)=>{var hi=ye("url"),xl=il(),cp=xl.decodeBase64,hp=xl.encodeBase64,Tl=":_authToken",Al=":_auth",Cl=":username",vl=":_password";Il.exports=function(){var t,e;return arguments.length>=2?(t=arguments[0],e=arguments[1]):typeof arguments[0]=="string"?t=arguments[0]:e=arguments[0],e=e||{},e.npmrc=e.npmrc||ci()("npm",{registry:"https://registry.npmjs.org/"},{config:process.env.npm_config_userconfig||process.env.NPM_CONFIG_USERCONFIG}),t=t||e.npmrc.registry,Ol(t,e)||fp(e.npmrc)};function Ol(t,e){for(var r=hi.parse(t,!1,!0),n;n!=="/"&&r.pathname!==n;){n=r.pathname||"/";var i="//"+r.host+n.replace(/\/$/,""),a=pp(i,e.npmrc);if(a)return a;if(!e.recursive)return/\/$/.test(t)?void 0:Ol(hi.resolve(t,"."),e);r.pathname=hi.resolve(dp(n),"..")||"/"}}function fp(t){if(t._auth){var e=zn(t._auth);return{token:e,type:"Basic"}}}function dp(t){return t[t.length-1]==="/"?t:t+"/"}function pp(t,e){var r=mp(e[t+Tl]||e[t+"/"+Tl]);if(r)return r;var n=e[t+Cl]||e[t+"/"+Cl],i=e[t+vl]||e[t+"/"+vl],a=gp(n,i);if(a)return a;var l=bp(e[t+Al]||e[t+"/"+Al]);if(l)return l}function zn(t){return t.replace(/^\$\{?([^}]*)\}?$/,function(e,r){return process.env[r]})}function mp(t){if(t){var e=zn(t);return{token:e,type:"Bearer"}}}function gp(t,e){if(!(!t||!e)){var r=cp(zn(e)),n=hp(t+":"+r);return{token:n,type:"Basic",password:r,username:t}}}function bp(t){if(t){var e=zn(t);return{token:e,type:"Basic"}}}});var Dr=C((lw,Ll)=>{var yp="2.0.0",_p=Number.MAX_SAFE_INTEGER||9007199254740991,wp=16;Ll.exports={SEMVER_SPEC_VERSION:yp,MAX_LENGTH:256,MAX_SAFE_INTEGER:_p,MAX_SAFE_COMPONENT_LENGTH:wp}});var Hr=C((uw,Pl)=>{var Sp=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Pl.exports=Sp});var St=C((at,Nl)=>{var{MAX_SAFE_COMPONENT_LENGTH:fi}=Dr(),Rp=Hr();at=Nl.exports={};var Ep=at.re=[],O=at.src=[],I=at.t={},Tp=0,F=(t,e,r)=>{let n=Tp++;Rp(t,n,e),I[t]=n,O[n]=e,Ep[n]=new RegExp(e,r?"g":void 0)};F("NUMERICIDENTIFIER","0|[1-9]\\d*");F("NUMERICIDENTIFIERLOOSE","[0-9]+");F("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");F("MAINVERSION",`(${O[I.NUMERICIDENTIFIER]})\\.(${O[I.NUMERICIDENTIFIER]})\\.(${O[I.NUMERICIDENTIFIER]})`);F("MAINVERSIONLOOSE",`(${O[I.NUMERICIDENTIFIERLOOSE]})\\.(${O[I.NUMERICIDENTIFIERLOOSE]})\\.(${O[I.NUMERICIDENTIFIERLOOSE]})`);F("PRERELEASEIDENTIFIER",`(?:${O[I.NUMERICIDENTIFIER]}|${O[I.NONNUMERICIDENTIFIER]})`);F("PRERELEASEIDENTIFIERLOOSE",`(?:${O[I.NUMERICIDENTIFIERLOOSE]}|${O[I.NONNUMERICIDENTIFIER]})`);F("PRERELEASE",`(?:-(${O[I.PRERELEASEIDENTIFIER]}(?:\\.${O[I.PRERELEASEIDENTIFIER]})*))`);F("PRERELEASELOOSE",`(?:-?(${O[I.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${O[I.PRERELEASEIDENTIFIERLOOSE]})*))`);F("BUILDIDENTIFIER","[0-9A-Za-z-]+");F("BUILD",`(?:\\+(${O[I.BUILDIDENTIFIER]}(?:\\.${O[I.BUILDIDENTIFIER]})*))`);F("FULLPLAIN",`v?${O[I.MAINVERSION]}${O[I.PRERELEASE]}?${O[I.BUILD]}?`);F("FULL",`^${O[I.FULLPLAIN]}$`);F("LOOSEPLAIN",`[v=\\s]*${O[I.MAINVERSIONLOOSE]}${O[I.PRERELEASELOOSE]}?${O[I.BUILD]}?`);F("LOOSE",`^${O[I.LOOSEPLAIN]}$`);F("GTLT","((?:<|>)?=?)");F("XRANGEIDENTIFIERLOOSE",`${O[I.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);F("XRANGEIDENTIFIER",`${O[I.NUMERICIDENTIFIER]}|x|X|\\*`);F("XRANGEPLAIN",`[v=\\s]*(${O[I.XRANGEIDENTIFIER]})(?:\\.(${O[I.XRANGEIDENTIFIER]})(?:\\.(${O[I.XRANGEIDENTIFIER]})(?:${O[I.PRERELEASE]})?${O[I.BUILD]}?)?)?`);F("XRANGEPLAINLOOSE",`[v=\\s]*(${O[I.XRANGEIDENTIFIERLOOSE]})(?:\\.(${O[I.XRANGEIDENTIFIERLOOSE]})(?:\\.(${O[I.XRANGEIDENTIFIERLOOSE]})(?:${O[I.PRERELEASELOOSE]})?${O[I.BUILD]}?)?)?`);F("XRANGE",`^${O[I.GTLT]}\\s*${O[I.XRANGEPLAIN]}$`);F("XRANGELOOSE",`^${O[I.GTLT]}\\s*${O[I.XRANGEPLAINLOOSE]}$`);F("COERCE",`(^|[^\\d])(\\d{1,${fi}})(?:\\.(\\d{1,${fi}}))?(?:\\.(\\d{1,${fi}}))?(?:$|[^\\d])`);F("COERCERTL",O[I.COERCE],!0);F("LONETILDE","(?:~>?)");F("TILDETRIM",`(\\s*)${O[I.LONETILDE]}\\s+`,!0);at.tildeTrimReplace="$1~";F("TILDE",`^${O[I.LONETILDE]}${O[I.XRANGEPLAIN]}$`);F("TILDELOOSE",`^${O[I.LONETILDE]}${O[I.XRANGEPLAINLOOSE]}$`);F("LONECARET","(?:\\^)");F("CARETTRIM",`(\\s*)${O[I.LONECARET]}\\s+`,!0);at.caretTrimReplace="$1^";F("CARET",`^${O[I.LONECARET]}${O[I.XRANGEPLAIN]}$`);F("CARETLOOSE",`^${O[I.LONECARET]}${O[I.XRANGEPLAINLOOSE]}$`);F("COMPARATORLOOSE",`^${O[I.GTLT]}\\s*(${O[I.LOOSEPLAIN]})$|^$`);F("COMPARATOR",`^${O[I.GTLT]}\\s*(${O[I.FULLPLAIN]})$|^$`);F("COMPARATORTRIM",`(\\s*)${O[I.GTLT]}\\s*(${O[I.LOOSEPLAIN]}|${O[I.XRANGEPLAIN]})`,!0);at.comparatorTrimReplace="$1$2$3";F("HYPHENRANGE",`^\\s*(${O[I.XRANGEPLAIN]})\\s+-\\s+(${O[I.XRANGEPLAIN]})\\s*$`);F("HYPHENRANGELOOSE",`^\\s*(${O[I.XRANGEPLAINLOOSE]})\\s+-\\s+(${O[I.XRANGEPLAINLOOSE]})\\s*$`);F("STAR","(<|>)?=?\\s*\\*");F("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");F("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Br=C((cw,Dl)=>{var Ap=["includePrerelease","loose","rtl"],Cp=t=>t?typeof t!="object"?{loose:!0}:Ap.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};Dl.exports=Cp});var di=C((hw,Fl)=>{var Hl=/^[0-9]+$/,Bl=(t,e)=>{let r=Hl.test(t),n=Hl.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},vp=(t,e)=>Bl(e,t);Fl.exports={compareIdentifiers:Bl,rcompareIdentifiers:vp}});var ae=C((fw,Ml)=>{var Mn=Hr(),{MAX_LENGTH:ql,MAX_SAFE_INTEGER:Wn}=Dr(),{re:Ul,t:zl}=St(),xp=Br(),{compareIdentifiers:Kt}=di(),pi=class t{constructor(e,r){if(r=xp(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>ql)throw new TypeError(`version is longer than ${ql} characters`);Mn("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?Ul[zl.LOOSE]:Ul[zl.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Wn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Wn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Wn||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let a=+i;if(a>=0&&a<Wn)return a}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Mn("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Kt(this.major,e.major)||Kt(this.minor,e.minor)||Kt(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(Mn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Kt(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(Mn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Kt(n,i)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(Kt(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};Ml.exports=pi});var Rt=C((dw,Vl)=>{var{MAX_LENGTH:Op}=Dr(),{re:Wl,t:kl}=St(),jl=ae(),Ip=Br(),$p=(t,e)=>{if(e=Ip(e),t instanceof jl)return t;if(typeof t!="string"||t.length>Op||!(e.loose?Wl[kl.LOOSE]:Wl[kl.FULL]).test(t))return null;try{return new jl(t,e)}catch{return null}};Vl.exports=$p});var Yl=C((pw,Gl)=>{var Lp=Rt(),Pp=(t,e)=>{let r=Lp(t,e);return r?r.version:null};Gl.exports=Pp});var Kl=C((mw,Ql)=>{var Np=Rt(),Dp=(t,e)=>{let r=Np(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Ql.exports=Dp});var Jl=C((gw,Zl)=>{var Xl=ae(),Hp=(t,e,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new Xl(t instanceof Xl?t.version:t,r).inc(e,n).version}catch{return null}};Zl.exports=Hp});var Te=C((bw,tu)=>{var eu=ae(),Bp=(t,e,r)=>new eu(t,r).compare(new eu(e,r));tu.exports=Bp});var kn=C((yw,ru)=>{var Fp=Te(),qp=(t,e,r)=>Fp(t,e,r)===0;ru.exports=qp});var iu=C((_w,su)=>{var nu=Rt(),Up=kn(),zp=(t,e)=>{if(Up(t,e))return null;{let r=nu(t),n=nu(e),i=r.prerelease.length||n.prerelease.length,a=i?"pre":"",l=i?"prerelease":"";for(let h in r)if((h==="major"||h==="minor"||h==="patch")&&r[h]!==n[h])return a+h;return l}};su.exports=zp});var au=C((ww,ou)=>{var Mp=ae(),Wp=(t,e)=>new Mp(t,e).major;ou.exports=Wp});var uu=C((Sw,lu)=>{var kp=ae(),jp=(t,e)=>new kp(t,e).minor;lu.exports=jp});var hu=C((Rw,cu)=>{var Vp=ae(),Gp=(t,e)=>new Vp(t,e).patch;cu.exports=Gp});var du=C((Ew,fu)=>{var Yp=Rt(),Qp=(t,e)=>{let r=Yp(t,e);return r&&r.prerelease.length?r.prerelease:null};fu.exports=Qp});var mu=C((Tw,pu)=>{var Kp=Te(),Xp=(t,e,r)=>Kp(e,t,r);pu.exports=Xp});var bu=C((Aw,gu)=>{var Zp=Te(),Jp=(t,e)=>Zp(t,e,!0);gu.exports=Jp});var jn=C((Cw,_u)=>{var yu=ae(),em=(t,e,r)=>{let n=new yu(t,r),i=new yu(e,r);return n.compare(i)||n.compareBuild(i)};_u.exports=em});var Su=C((vw,wu)=>{var tm=jn(),rm=(t,e)=>t.sort((r,n)=>tm(r,n,e));wu.exports=rm});var Eu=C((xw,Ru)=>{var nm=jn(),sm=(t,e)=>t.sort((r,n)=>nm(n,r,e));Ru.exports=sm});var Fr=C((Ow,Tu)=>{var im=Te(),om=(t,e,r)=>im(t,e,r)>0;Tu.exports=om});var Vn=C((Iw,Au)=>{var am=Te(),lm=(t,e,r)=>am(t,e,r)<0;Au.exports=lm});var mi=C(($w,Cu)=>{var um=Te(),cm=(t,e,r)=>um(t,e,r)!==0;Cu.exports=cm});var Gn=C((Lw,vu)=>{var hm=Te(),fm=(t,e,r)=>hm(t,e,r)>=0;vu.exports=fm});var Yn=C((Pw,xu)=>{var dm=Te(),pm=(t,e,r)=>dm(t,e,r)<=0;xu.exports=pm});var gi=C((Nw,Ou)=>{var mm=kn(),gm=mi(),bm=Fr(),ym=Gn(),_m=Vn(),wm=Yn(),Sm=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return mm(t,r,n);case"!=":return gm(t,r,n);case">":return bm(t,r,n);case">=":return ym(t,r,n);case"<":return _m(t,r,n);case"<=":return wm(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};Ou.exports=Sm});var $u=C((Dw,Iu)=>{var Rm=ae(),Em=Rt(),{re:Qn,t:Kn}=St(),Tm=(t,e)=>{if(t instanceof Rm)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Qn[Kn.COERCE]);else{let n;for(;(n=Qn[Kn.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Qn[Kn.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Qn[Kn.COERCERTL].lastIndex=-1}return r===null?null:Em(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};Iu.exports=Tm});var Pu=C((Hw,Lu)=>{"use strict";Lu.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var Du=C((Bw,Nu)=>{"use strict";Nu.exports=k;k.Node=Et;k.create=k;function k(t){var e=this;if(e instanceof k||(e=new k),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}k.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};k.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};k.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};k.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Cm(this,arguments[t]);return this.length};k.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)vm(this,arguments[t]);return this.length};k.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};k.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};k.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};k.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};k.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};k.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};k.prototype.map=function(t,e){e=e||this;for(var r=new k,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};k.prototype.mapReverse=function(t,e){e=e||this;for(var r=new k,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};k.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};k.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};k.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};k.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};k.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new k;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};k.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new k;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};k.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var a=[],n=0;i&&n<e;n++)a.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=Am(this,i,r[n]);return a};k.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function Am(t,e,r){var n=e===t.head?new Et(r,null,e,t):new Et(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function Cm(t,e){t.tail=new Et(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function vm(t,e){t.head=new Et(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Et(t,e,r,n){if(!(this instanceof Et))return new Et(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Pu()(k)}catch{}});var Uu=C((Fw,qu)=>{"use strict";var xm=Du(),Tt=Symbol("max"),Ye=Symbol("length"),Xt=Symbol("lengthCalculator"),Ur=Symbol("allowStale"),At=Symbol("maxAge"),Ge=Symbol("dispose"),Hu=Symbol("noDisposeOnSet"),ie=Symbol("lruList"),Ne=Symbol("cache"),Fu=Symbol("updateAgeOnGet"),bi=()=>1,_i=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[Tt]=e.max||1/0,n=e.length||bi;if(this[Xt]=typeof n!="function"?bi:n,this[Ur]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[At]=e.maxAge||0,this[Ge]=e.dispose,this[Hu]=e.noDisposeOnSet||!1,this[Fu]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Tt]=e||1/0,qr(this)}get max(){return this[Tt]}set allowStale(e){this[Ur]=!!e}get allowStale(){return this[Ur]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[At]=e,qr(this)}get maxAge(){return this[At]}set lengthCalculator(e){typeof e!="function"&&(e=bi),e!==this[Xt]&&(this[Xt]=e,this[Ye]=0,this[ie].forEach(r=>{r.length=this[Xt](r.value,r.key),this[Ye]+=r.length})),qr(this)}get lengthCalculator(){return this[Xt]}get length(){return this[Ye]}get itemCount(){return this[ie].length}rforEach(e,r){r=r||this;for(let n=this[ie].tail;n!==null;){let i=n.prev;Bu(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[ie].head;n!==null;){let i=n.next;Bu(this,e,n,r),n=i}}keys(){return this[ie].toArray().map(e=>e.key)}values(){return this[ie].toArray().map(e=>e.value)}reset(){this[Ge]&&this[ie]&&this[ie].length&&this[ie].forEach(e=>this[Ge](e.key,e.value)),this[Ne]=new Map,this[ie]=new xm,this[Ye]=0}dump(){return this[ie].map(e=>Xn(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ie]}set(e,r,n){if(n=n||this[At],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,a=this[Xt](r,e);if(this[Ne].has(e)){if(a>this[Tt])return Zt(this,this[Ne].get(e)),!1;let d=this[Ne].get(e).value;return this[Ge]&&(this[Hu]||this[Ge](e,d.value)),d.now=i,d.maxAge=n,d.value=r,this[Ye]+=a-d.length,d.length=a,this.get(e),qr(this),!0}let l=new wi(e,r,a,i,n);return l.length>this[Tt]?(this[Ge]&&this[Ge](e,r),!1):(this[Ye]+=l.length,this[ie].unshift(l),this[Ne].set(e,this[ie].head),qr(this),!0)}has(e){if(!this[Ne].has(e))return!1;let r=this[Ne].get(e).value;return!Xn(this,r)}get(e){return yi(this,e,!0)}peek(e){return yi(this,e,!1)}pop(){let e=this[ie].tail;return e?(Zt(this,e),e.value):null}del(e){Zt(this,this[Ne].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],a=i.e||0;if(a===0)this.set(i.k,i.v);else{let l=a-r;l>0&&this.set(i.k,i.v,l)}}}prune(){this[Ne].forEach((e,r)=>yi(this,r,!1))}},yi=(t,e,r)=>{let n=t[Ne].get(e);if(n){let i=n.value;if(Xn(t,i)){if(Zt(t,n),!t[Ur])return}else r&&(t[Fu]&&(n.value.now=Date.now()),t[ie].unshiftNode(n));return i.value}},Xn=(t,e)=>{if(!e||!e.maxAge&&!t[At])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[At]&&r>t[At]},qr=t=>{if(t[Ye]>t[Tt])for(let e=t[ie].tail;t[Ye]>t[Tt]&&e!==null;){let r=e.prev;Zt(t,e),e=r}},Zt=(t,e)=>{if(e){let r=e.value;t[Ge]&&t[Ge](r.key,r.value),t[Ye]-=r.length,t[Ne].delete(r.key),t[ie].removeNode(e)}},wi=class{constructor(e,r,n,i,a){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=a||0}},Bu=(t,e,r,n)=>{let i=r.value;Xn(t,i)&&(Zt(t,r),t[Ur]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};qu.exports=_i});var Ae=C((qw,ku)=>{var Si=class t{constructor(e,r){if(r=Im(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof Ri)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!Mu(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Dm(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,i=zu.get(n);if(i)return i;let a=this.options.loose,l=a?ge[ce.HYPHENRANGELOOSE]:ge[ce.HYPHENRANGE];e=e.replace(l,jm(this.options.includePrerelease)),K("hyphen replace",e),e=e.replace(ge[ce.COMPARATORTRIM],Lm),K("comparator trim",e),e=e.replace(ge[ce.TILDETRIM],Pm),e=e.replace(ge[ce.CARETTRIM],Nm),e=e.split(/\s+/).join(" ");let h=e.split(" ").map(b=>Hm(b,this.options)).join(" ").split(/\s+/).map(b=>km(b,this.options));a&&(h=h.filter(b=>(K("loose invalid filter",b,this.options),!!b.match(ge[ce.COMPARATORLOOSE])))),K("range list",h);let d=new Map,c=h.map(b=>new Ri(b,this.options));for(let b of c){if(Mu(b))return[b];d.set(b.value,b)}d.size>1&&d.has("")&&d.delete("");let g=[...d.values()];return zu.set(n,g),g}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>Wu(n,r)&&e.set.some(i=>Wu(i,r)&&n.every(a=>i.every(l=>a.intersects(l,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new $m(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Vm(this.set[r],e,this.options))return!0;return!1}};ku.exports=Si;var Om=Uu(),zu=new Om({max:1e3}),Im=Br(),Ri=zr(),K=Hr(),$m=ae(),{re:ge,t:ce,comparatorTrimReplace:Lm,tildeTrimReplace:Pm,caretTrimReplace:Nm}=St(),Mu=t=>t.value==="<0.0.0-0",Dm=t=>t.value==="",Wu=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(a=>i.intersects(a,e)),i=n.pop();return r},Hm=(t,e)=>(K("comp",t,e),t=qm(t,e),K("caret",t),t=Bm(t,e),K("tildes",t),t=zm(t,e),K("xrange",t),t=Wm(t,e),K("stars",t),t),he=t=>!t||t.toLowerCase()==="x"||t==="*",Bm=(t,e)=>t.trim().split(/\s+/).map(r=>Fm(r,e)).join(" "),Fm=(t,e)=>{let r=e.loose?ge[ce.TILDELOOSE]:ge[ce.TILDE];return t.replace(r,(n,i,a,l,h)=>{K("tilde",t,n,i,a,l,h);let d;return he(i)?d="":he(a)?d=`>=${i}.0.0 <${+i+1}.0.0-0`:he(l)?d=`>=${i}.${a}.0 <${i}.${+a+1}.0-0`:h?(K("replaceTilde pr",h),d=`>=${i}.${a}.${l}-${h} <${i}.${+a+1}.0-0`):d=`>=${i}.${a}.${l} <${i}.${+a+1}.0-0`,K("tilde return",d),d})},qm=(t,e)=>t.trim().split(/\s+/).map(r=>Um(r,e)).join(" "),Um=(t,e)=>{K("caret",t,e);let r=e.loose?ge[ce.CARETLOOSE]:ge[ce.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,a,l,h,d)=>{K("caret",t,i,a,l,h,d);let c;return he(a)?c="":he(l)?c=`>=${a}.0.0${n} <${+a+1}.0.0-0`:he(h)?a==="0"?c=`>=${a}.${l}.0${n} <${a}.${+l+1}.0-0`:c=`>=${a}.${l}.0${n} <${+a+1}.0.0-0`:d?(K("replaceCaret pr",d),a==="0"?l==="0"?c=`>=${a}.${l}.${h}-${d} <${a}.${l}.${+h+1}-0`:c=`>=${a}.${l}.${h}-${d} <${a}.${+l+1}.0-0`:c=`>=${a}.${l}.${h}-${d} <${+a+1}.0.0-0`):(K("no pr"),a==="0"?l==="0"?c=`>=${a}.${l}.${h}${n} <${a}.${l}.${+h+1}-0`:c=`>=${a}.${l}.${h}${n} <${a}.${+l+1}.0-0`:c=`>=${a}.${l}.${h} <${+a+1}.0.0-0`),K("caret return",c),c})},zm=(t,e)=>(K("replaceXRanges",t,e),t.split(/\s+/).map(r=>Mm(r,e)).join(" ")),Mm=(t,e)=>{t=t.trim();let r=e.loose?ge[ce.XRANGELOOSE]:ge[ce.XRANGE];return t.replace(r,(n,i,a,l,h,d)=>{K("xRange",t,n,i,a,l,h,d);let c=he(a),g=c||he(l),b=g||he(h),m=b;return i==="="&&m&&(i=""),d=e.includePrerelease?"-0":"",c?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&m?(g&&(l=0),h=0,i===">"?(i=">=",g?(a=+a+1,l=0,h=0):(l=+l+1,h=0)):i==="<="&&(i="<",g?a=+a+1:l=+l+1),i==="<"&&(d="-0"),n=`${i+a}.${l}.${h}${d}`):g?n=`>=${a}.0.0${d} <${+a+1}.0.0-0`:b&&(n=`>=${a}.${l}.0${d} <${a}.${+l+1}.0-0`),K("xRange return",n),n})},Wm=(t,e)=>(K("replaceStars",t,e),t.trim().replace(ge[ce.STAR],"")),km=(t,e)=>(K("replaceGTE0",t,e),t.trim().replace(ge[e.includePrerelease?ce.GTE0PRE:ce.GTE0],"")),jm=t=>(e,r,n,i,a,l,h,d,c,g,b,m,p)=>(he(n)?r="":he(i)?r=`>=${n}.0.0${t?"-0":""}`:he(a)?r=`>=${n}.${i}.0${t?"-0":""}`:l?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,he(c)?d="":he(g)?d=`<${+c+1}.0.0-0`:he(b)?d=`<${c}.${+g+1}.0-0`:m?d=`<=${c}.${g}.${b}-${m}`:t?d=`<${c}.${g}.${+b+1}-0`:d=`<=${d}`,`${r} ${d}`.trim()),Vm=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(K(t[n].semver),t[n].semver!==Ri.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var zr=C((Uw,Qu)=>{var Mr=Symbol("SemVer ANY"),Ai=class t{static get ANY(){return Mr}constructor(e,r){if(r=Gm(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}Ti("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Mr?this.value="":this.value=this.operator+this.semver.version,Ti("comp",this)}parse(e){let r=this.options.loose?ju[Vu.COMPARATORLOOSE]:ju[Vu.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Gu(n[2],this.options.loose):this.semver=Mr}toString(){return this.value}test(e){if(Ti("Comparator.test",e,this.options.loose),this.semver===Mr||e===Mr)return!0;if(typeof e=="string")try{e=new Gu(e,this.options)}catch{return!1}return Ei(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new Yu(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new Yu(this.value,r).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),a=this.semver.version===e.semver.version,l=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),h=Ei(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),d=Ei(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||a&&l||h||d}};Qu.exports=Ai;var Gm=Br(),{re:ju,t:Vu}=St(),Ei=gi(),Ti=Hr(),Gu=ae(),Yu=Ae()});var Wr=C((zw,Ku)=>{var Ym=Ae(),Qm=(t,e,r)=>{try{e=new Ym(e,r)}catch{return!1}return e.test(t)};Ku.exports=Qm});var Zu=C((Mw,Xu)=>{var Km=Ae(),Xm=(t,e)=>new Km(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Xu.exports=Xm});var ec=C((Ww,Ju)=>{var Zm=ae(),Jm=Ae(),eg=(t,e,r)=>{let n=null,i=null,a=null;try{a=new Jm(e,r)}catch{return null}return t.forEach(l=>{a.test(l)&&(!n||i.compare(l)===-1)&&(n=l,i=new Zm(n,r))}),n};Ju.exports=eg});var rc=C((kw,tc)=>{var tg=ae(),rg=Ae(),ng=(t,e,r)=>{let n=null,i=null,a=null;try{a=new rg(e,r)}catch{return null}return t.forEach(l=>{a.test(l)&&(!n||i.compare(l)===1)&&(n=l,i=new tg(n,r))}),n};tc.exports=ng});var ic=C((jw,sc)=>{var Ci=ae(),sg=Ae(),nc=Fr(),ig=(t,e)=>{t=new sg(t,e);let r=new Ci("0.0.0");if(t.test(r)||(r=new Ci("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],a=null;i.forEach(l=>{let h=new Ci(l.semver.version);switch(l.operator){case">":h.prerelease.length===0?h.patch++:h.prerelease.push(0),h.raw=h.format();case"":case">=":(!a||nc(h,a))&&(a=h);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),a&&(!r||nc(r,a))&&(r=a)}return r&&t.test(r)?r:null};sc.exports=ig});var ac=C((Vw,oc)=>{var og=Ae(),ag=(t,e)=>{try{return new og(t,e).range||"*"}catch{return null}};oc.exports=ag});var Zn=C((Gw,hc)=>{var lg=ae(),cc=zr(),{ANY:ug}=cc,cg=Ae(),hg=Wr(),lc=Fr(),uc=Vn(),fg=Yn(),dg=Gn(),pg=(t,e,r,n)=>{t=new lg(t,n),e=new cg(e,n);let i,a,l,h,d;switch(r){case">":i=lc,a=fg,l=uc,h=">",d=">=";break;case"<":i=uc,a=dg,l=lc,h="<",d="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(hg(t,e,n))return!1;for(let c=0;c<e.set.length;++c){let g=e.set[c],b=null,m=null;if(g.forEach(p=>{p.semver===ug&&(p=new cc(">=0.0.0")),b=b||p,m=m||p,i(p.semver,b.semver,n)?b=p:l(p.semver,m.semver,n)&&(m=p)}),b.operator===h||b.operator===d||(!m.operator||m.operator===h)&&a(t,m.semver))return!1;if(m.operator===d&&l(t,m.semver))return!1}return!0};hc.exports=pg});var dc=C((Yw,fc)=>{var mg=Zn(),gg=(t,e,r)=>mg(t,e,">",r);fc.exports=gg});var mc=C((Qw,pc)=>{var bg=Zn(),yg=(t,e,r)=>bg(t,e,"<",r);pc.exports=yg});var yc=C((Kw,bc)=>{var gc=Ae(),_g=(t,e,r)=>(t=new gc(t,r),e=new gc(e,r),t.intersects(e));bc.exports=_g});var wc=C((Xw,_c)=>{var wg=Wr(),Sg=Te();_c.exports=(t,e,r)=>{let n=[],i=null,a=null,l=t.sort((g,b)=>Sg(g,b,r));for(let g of l)wg(g,e,r)?(a=g,i||(i=g)):(a&&n.push([i,a]),a=null,i=null);i&&n.push([i,null]);let h=[];for(let[g,b]of n)g===b?h.push(g):!b&&g===l[0]?h.push("*"):b?g===l[0]?h.push(`<=${b}`):h.push(`${g} - ${b}`):h.push(`>=${g}`);let d=h.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return d.length<c.length?d:e}});var Ac=C((Zw,Tc)=>{var Sc=Ae(),Jn=zr(),{ANY:vi}=Jn,kr=Wr(),xi=Te(),Rg=(t,e,r={})=>{if(t===e)return!0;t=new Sc(t,r),e=new Sc(e,r);let n=!1;e:for(let i of t.set){for(let a of e.set){let l=Eg(i,a,r);if(n=n||l!==null,l)continue e}if(n)return!1}return!0},Eg=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===vi){if(e.length===1&&e[0].semver===vi)return!0;r.includePrerelease?t=[new Jn(">=0.0.0-0")]:t=[new Jn(">=0.0.0")]}if(e.length===1&&e[0].semver===vi){if(r.includePrerelease)return!0;e=[new Jn(">=0.0.0")]}let n=new Set,i,a;for(let p of t)p.operator===">"||p.operator===">="?i=Rc(i,p,r):p.operator==="<"||p.operator==="<="?a=Ec(a,p,r):n.add(p.semver);if(n.size>1)return null;let l;if(i&&a){if(l=xi(i.semver,a.semver,r),l>0)return null;if(l===0&&(i.operator!==">="||a.operator!=="<="))return null}for(let p of n){if(i&&!kr(p,String(i),r)||a&&!kr(p,String(a),r))return null;for(let _ of e)if(!kr(p,String(_),r))return!1;return!0}let h,d,c,g,b=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,m=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;b&&b.prerelease.length===1&&a.operator==="<"&&b.prerelease[0]===0&&(b=!1);for(let p of e){if(g=g||p.operator===">"||p.operator===">=",c=c||p.operator==="<"||p.operator==="<=",i){if(m&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===m.major&&p.semver.minor===m.minor&&p.semver.patch===m.patch&&(m=!1),p.operator===">"||p.operator===">="){if(h=Rc(i,p,r),h===p&&h!==i)return!1}else if(i.operator===">="&&!kr(i.semver,String(p),r))return!1}if(a){if(b&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===b.major&&p.semver.minor===b.minor&&p.semver.patch===b.patch&&(b=!1),p.operator==="<"||p.operator==="<="){if(d=Ec(a,p,r),d===p&&d!==a)return!1}else if(a.operator==="<="&&!kr(a.semver,String(p),r))return!1}if(!p.operator&&(a||i)&&l!==0)return!1}return!(i&&c&&!a&&l!==0||a&&g&&!i&&l!==0||m||b)},Rc=(t,e,r)=>{if(!t)return e;let n=xi(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Ec=(t,e,r)=>{if(!t)return e;let n=xi(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};Tc.exports=Rg});var xc=C((Jw,vc)=>{var Oi=St(),Tg=Dr(),Ag=ae(),Cc=di(),Cg=Rt(),vg=Yl(),xg=Kl(),Og=Jl(),Ig=iu(),$g=au(),Lg=uu(),Pg=hu(),Ng=du(),Dg=Te(),Hg=mu(),Bg=bu(),Fg=jn(),qg=Su(),Ug=Eu(),zg=Fr(),Mg=Vn(),Wg=kn(),kg=mi(),jg=Gn(),Vg=Yn(),Gg=gi(),Yg=$u(),Qg=zr(),Kg=Ae(),Xg=Wr(),Zg=Zu(),Jg=ec(),eb=rc(),tb=ic(),rb=ac(),nb=Zn(),sb=dc(),ib=mc(),ob=yc(),ab=wc(),lb=Ac();vc.exports={parse:Cg,valid:vg,clean:xg,inc:Og,diff:Ig,major:$g,minor:Lg,patch:Pg,prerelease:Ng,compare:Dg,rcompare:Hg,compareLoose:Bg,compareBuild:Fg,sort:qg,rsort:Ug,gt:zg,lt:Mg,eq:Wg,neq:kg,gte:jg,lte:Vg,cmp:Gg,coerce:Yg,Comparator:Qg,Range:Kg,satisfies:Xg,toComparators:Zg,maxSatisfying:Jg,minSatisfying:eb,minVersion:tb,validRange:rb,outside:nb,gtr:sb,ltr:ib,intersects:ob,simplifyRange:ab,subset:lb,SemVer:Ag,re:Oi.re,src:Oi.src,tokens:Oi.t,SEMVER_SPEC_VERSION:Tg.SEMVER_SPEC_VERSION,compareIdentifiers:Cc.compareIdentifiers,rcompareIdentifiers:Cc.rcompareIdentifiers}});var Pc=C((eS,Lc)=>{Lc.exports=function(t,e){e||(e={});var r=e.hsep===void 0?"  ":e.hsep,n=e.align||[],i=e.stringLength||function(d){return String(d).length},a=Ic(t,function(d,c){return $c(c,function(g,b){var m=Oc(g);(!d[b]||m>d[b])&&(d[b]=m)}),d},[]),l=es(t,function(d){return es(d,function(c,g){var b=String(c);if(n[g]==="."){var m=Oc(b),p=a[g]+(/\./.test(b)?1:2)-(i(b)-m);return b+Array(p).join(" ")}else return b})}),h=Ic(l,function(d,c){return $c(c,function(g,b){var m=i(g);(!d[b]||m>d[b])&&(d[b]=m)}),d},[]);return es(l,function(d){return es(d,function(c,g){var b=h[g]-i(c)||0,m=Array(Math.max(b+1,1)).join(" ");return n[g]==="r"||n[g]==="."?m+c:n[g]==="c"?Array(Math.ceil(b/2+1)).join(" ")+c+Array(Math.floor(b/2+1)).join(" "):c+m}).join(r).replace(/\s+$/,"")}).join(`
`)};function Oc(t){var e=/\.[^.]*$/.exec(t);return e?e.index+1:t.length}function Ic(t,e,r){if(t.reduce)return t.reduce(e,r);for(var n=0,i=arguments.length>=3?r:t[n++];n<t.length;n++)e(i,t[n],n);return i}function $c(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e.call(t,t[r],r)}function es(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e.call(t,t[n],n));return r}});var Fc=C((nS,Bc)=>{var jr=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,ub=typeof AbortController=="function",ts=ub?AbortController:class{constructor(){this.signal=new Nc}abort(e=new Error("This operation was aborted")){this.signal.reason=this.signal.reason||e,this.signal.aborted=!0,this.signal.dispatchEvent({type:"abort",target:this.signal})}},cb=typeof AbortSignal=="function",hb=typeof ts.AbortSignal=="function",Nc=cb?AbortSignal:hb?ts.AbortController:class{constructor(){this.reason=void 0,this.aborted=!1,this._listeners=[]}dispatchEvent(e){e.type==="abort"&&(this.aborted=!0,this.onabort(e),this._listeners.forEach(r=>r(e),this))}onabort(){}addEventListener(e,r){e==="abort"&&this._listeners.push(r)}removeEventListener(e,r){e==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},Pi=new Set,Ii=(t,e)=>{let r=`LRU_CACHE_OPTION_${t}`;rs(r)&&Ni(r,`${t} option`,`options.${e}`,er)},$i=(t,e)=>{let r=`LRU_CACHE_METHOD_${t}`;if(rs(r)){let{prototype:n}=er,{get:i}=Object.getOwnPropertyDescriptor(n,t);Ni(r,`${t} method`,`cache.${e}()`,i)}},fb=(t,e)=>{let r=`LRU_CACHE_PROPERTY_${t}`;if(rs(r)){let{prototype:n}=er,{get:i}=Object.getOwnPropertyDescriptor(n,t);Ni(r,`${t} property`,`cache.${e}`,i)}},Dc=(...t)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...t):console.error(...t)},rs=t=>!Pi.has(t),Ni=(t,e,r,n)=>{Pi.add(t);let i=`The ${e} is deprecated. Please use ${r} instead.`;Dc(i,"DeprecationWarning",t,n)},lt=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),Hc=t=>lt(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?Jt:null:null,Jt=class extends Array{constructor(e){super(e),this.fill(0)}},Li=class{constructor(e){if(e===0)return[];let r=Hc(e);this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},er=class t{constructor(e={}){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:a,updateAgeOnGet:l,updateAgeOnHas:h,allowStale:d,dispose:c,disposeAfter:g,noDisposeOnSet:b,noUpdateTTL:m,maxSize:p=0,maxEntrySize:_=0,sizeCalculation:S,fetchMethod:A,fetchContext:E,noDeleteOnFetchRejection:L,noDeleteOnStaleGet:P,allowStaleOnFetchRejection:T,allowStaleOnFetchAbort:$,ignoreFetchAbort:D}=e,{length:H,maxAge:G,stale:Z}=e instanceof t?{}:e;if(r!==0&&!lt(r))throw new TypeError("max option must be a nonnegative integer");let te=r?Hc(r):Array;if(!te)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=p,this.maxEntrySize=_||this.maxSize,this.sizeCalculation=S||H,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=A||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=E,!this.fetchMethod&&E!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new te(r),this.prev=new te(r),this.head=0,this.tail=0,this.free=new Li(r),this.initialFill=1,this.size=0,typeof c=="function"&&(this.dispose=c),typeof g=="function"?(this.disposeAfter=g,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!b,this.noUpdateTTL=!!m,this.noDeleteOnFetchRejection=!!L,this.allowStaleOnFetchRejection=!!T,this.allowStaleOnFetchAbort=!!$,this.ignoreFetchAbort=!!D,this.maxEntrySize!==0){if(this.maxSize!==0&&!lt(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!lt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!d||!!Z,this.noDeleteOnStaleGet=!!P,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!h,this.ttlResolution=lt(i)||i===0?i:1,this.ttlAutopurge=!!a,this.ttl=n||G||0,this.ttl){if(!lt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let oe="LRU_CACHE_UNBOUNDED";rs(oe)&&(Pi.add(oe),Dc("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",oe,t))}Z&&Ii("stale","allowStale"),G&&Ii("maxAge","ttl"),H&&Ii("length","sizeCalculation")}getRemainingTTL(e){return this.has(e,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new Jt(this.max),this.starts=new Jt(this.max),this.setItemTTL=(n,i,a=jr.now())=>{if(this.starts[n]=i!==0?a:0,this.ttls[n]=i,i!==0&&this.ttlAutopurge){let l=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},i+1);l.unref&&l.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?jr.now():0},this.statusTTL=(n,i)=>{n&&(n.ttl=this.ttls[i],n.start=this.starts[i],n.now=e||r(),n.remainingTTL=n.now+n.ttl-n.start)};let e=0,r=()=>{let n=jr.now();if(this.ttlResolution>0){e=n;let i=setTimeout(()=>e=0,this.ttlResolution);i.unref&&i.unref()}return n};this.getRemainingTTL=n=>{let i=this.keyMap.get(n);return i===void 0?0:this.ttls[i]===0||this.starts[i]===0?1/0:this.starts[i]+this.ttls[i]-(e||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(e||r())-this.starts[n]>this.ttls[n]}updateItemAge(e){}statusTTL(e,r){}setItemTTL(e,r,n){}isStale(e){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new Jt(this.max),this.removeItemSize=e=>{this.calculatedSize-=this.sizes[e],this.sizes[e]=0},this.requireSize=(e,r,n,i)=>{if(this.isBackgroundFetch(r))return 0;if(!lt(n))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(n=i(r,e),!lt(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.addItemSize=(e,r,n)=>{if(this.sizes[e]=r,this.maxSize){let i=this.maxSize-this.sizes[e];for(;this.calculatedSize>i;)this.evict(!0)}this.calculatedSize+=this.sizes[e],n&&(n.entrySize=r,n.totalCalculatedSize=this.calculatedSize)}}removeItemSize(e){}addItemSize(e,r){}requireSize(e,r,n,i){if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:e=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((e||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:e=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((e||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(e){return e!==void 0&&this.keyMap.get(this.keyList[e])===e}*entries(){for(let e of this.indexes())this.valList[e]!==void 0&&this.keyList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield[this.keyList[e],this.valList[e]])}*rentries(){for(let e of this.rindexes())this.valList[e]!==void 0&&this.keyList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield[this.keyList[e],this.valList[e]])}*keys(){for(let e of this.indexes())this.keyList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield this.keyList[e])}*rkeys(){for(let e of this.rindexes())this.keyList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield this.keyList[e])}*values(){for(let e of this.indexes())this.valList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield this.valList[e])}*rvalues(){for(let e of this.rindexes())this.valList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield this.valList[e])}[Symbol.iterator](){return this.entries()}find(e,r){for(let n of this.indexes()){let i=this.valList[n],a=this.isBackgroundFetch(i)?i.__staleWhileFetching:i;if(a!==void 0&&e(a,this.keyList[n],this))return this.get(this.keyList[n],r)}}forEach(e,r=this){for(let n of this.indexes()){let i=this.valList[n],a=this.isBackgroundFetch(i)?i.__staleWhileFetching:i;a!==void 0&&e.call(r,a,this.keyList[n],this)}}rforEach(e,r=this){for(let n of this.rindexes()){let i=this.valList[n],a=this.isBackgroundFetch(i)?i.__staleWhileFetching:i;a!==void 0&&e.call(r,a,this.keyList[n],this)}}get prune(){return $i("prune","purgeStale"),this.purgeStale}purgeStale(){let e=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),e=!0);return e}dump(){let e=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],i=this.valList[r],a=this.isBackgroundFetch(i)?i.__staleWhileFetching:i;if(a===void 0)continue;let l={value:a};if(this.ttls){l.ttl=this.ttls[r];let h=jr.now()-this.starts[r];l.start=Math.floor(Date.now()-h)}this.sizes&&(l.size=this.sizes[r]),e.unshift([n,l])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let i=Date.now()-n.start;n.start=jr.now()-i}this.set(r,n.value,n)}}dispose(e,r,n){}set(e,r,{ttl:n=this.ttl,start:i,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:h=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,status:c}={}){if(l=this.requireSize(e,r,l,h),this.maxEntrySize&&l>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.delete(e),this;let g=this.size===0?void 0:this.keyMap.get(e);if(g===void 0)g=this.newIndex(),this.keyList[g]=e,this.valList[g]=r,this.keyMap.set(e,g),this.next[this.tail]=g,this.prev[g]=this.tail,this.tail=g,this.size++,this.addItemSize(g,l,c),c&&(c.set="add"),d=!1;else{this.moveToTail(g);let b=this.valList[g];if(r!==b){if(this.isBackgroundFetch(b)?b.__abortController.abort(new Error("replaced")):a||(this.dispose(b,e,"set"),this.disposeAfter&&this.disposed.push([b,e,"set"])),this.removeItemSize(g),this.valList[g]=r,this.addItemSize(g,l,c),c){c.set="replace";let m=b&&this.isBackgroundFetch(b)?b.__staleWhileFetching:b;m!==void 0&&(c.oldValue=m)}}else c&&(c.set="update")}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),d||this.setItemTTL(g,n,i),this.statusTTL(c,g),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let e=this.valList[this.head];return this.evict(!0),e}}evict(e){let r=this.head,n=this.keyList[r],i=this.valList[r];return this.isBackgroundFetch(i)?i.__abortController.abort(new Error("evicted")):(this.dispose(i,n,"evict"),this.disposeAfter&&this.disposed.push([i,n,"evict"])),this.removeItemSize(r),e&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(e,{updateAgeOnHas:r=this.updateAgeOnHas,status:n}={}){let i=this.keyMap.get(e);if(i!==void 0)if(this.isStale(i))n&&(n.has="stale",this.statusTTL(n,i));else return r&&this.updateItemAge(i),n&&(n.has="hit"),this.statusTTL(n,i),!0;else n&&(n.has="miss");return!1}peek(e,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(e);if(n!==void 0&&(r||!this.isStale(n))){let i=this.valList[n];return this.isBackgroundFetch(i)?i.__staleWhileFetching:i}}backgroundFetch(e,r,n,i){let a=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(a))return a;let l=new ts;n.signal&&n.signal.addEventListener("abort",()=>l.abort(n.signal.reason));let h={signal:l.signal,options:n,context:i},d=(p,_=!1)=>{let{aborted:S}=l.signal,A=n.ignoreFetchAbort&&p!==void 0;return n.status&&(S&&!_?(n.status.fetchAborted=!0,n.status.fetchError=l.signal.reason,A&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),S&&!A&&!_?g(l.signal.reason):(this.valList[r]===m&&(p===void 0?m.__staleWhileFetching?this.valList[r]=m.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,p,h.options))),p)},c=p=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=p),g(p)),g=p=>{let{aborted:_}=l.signal,S=_&&n.allowStaleOnFetchAbort,A=S||n.allowStaleOnFetchRejection,E=A||n.noDeleteOnFetchRejection;if(this.valList[r]===m&&(!E||m.__staleWhileFetching===void 0?this.delete(e):S||(this.valList[r]=m.__staleWhileFetching)),A)return n.status&&m.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),m.__staleWhileFetching;if(m.__returned===m)throw p},b=(p,_)=>{this.fetchMethod(e,a,h).then(S=>p(S),_),l.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(p(),n.allowStaleOnFetchAbort&&(p=S=>d(S,!0)))})};n.status&&(n.status.fetchDispatched=!0);let m=new Promise(b).then(d,c);return m.__abortController=l,m.__staleWhileFetching=a,m.__returned=null,r===void 0?(this.set(e,m,{...h.options,status:void 0}),r=this.keyMap.get(e)):this.valList[r]=m,m}isBackgroundFetch(e){return e&&typeof e=="object"&&typeof e.then=="function"&&Object.prototype.hasOwnProperty.call(e,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(e,"__returned")&&(e.__returned===e||e.__returned===null)}async fetch(e,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:a=this.ttl,noDisposeOnSet:l=this.noDisposeOnSet,size:h=0,sizeCalculation:d=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:g=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:b=this.allowStaleOnFetchRejection,ignoreFetchAbort:m=this.ignoreFetchAbort,allowStaleOnFetchAbort:p=this.allowStaleOnFetchAbort,fetchContext:_=this.fetchContext,forceRefresh:S=!1,status:A,signal:E}={}){if(!this.fetchMethod)return A&&(A.fetch="get"),this.get(e,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,status:A});let L={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:a,noDisposeOnSet:l,size:h,sizeCalculation:d,noUpdateTTL:c,noDeleteOnFetchRejection:g,allowStaleOnFetchRejection:b,allowStaleOnFetchAbort:p,ignoreFetchAbort:m,status:A,signal:E},P=this.keyMap.get(e);if(P===void 0){A&&(A.fetch="miss");let T=this.backgroundFetch(e,P,L,_);return T.__returned=T}else{let T=this.valList[P];if(this.isBackgroundFetch(T)){let Z=r&&T.__staleWhileFetching!==void 0;return A&&(A.fetch="inflight",Z&&(A.returnedStale=!0)),Z?T.__staleWhileFetching:T.__returned=T}let $=this.isStale(P);if(!S&&!$)return A&&(A.fetch="hit"),this.moveToTail(P),n&&this.updateItemAge(P),this.statusTTL(A,P),T;let D=this.backgroundFetch(e,P,L,_),H=D.__staleWhileFetching!==void 0,G=H&&r;return A&&(A.fetch=H&&$?"stale":"refresh",G&&$&&(A.returnedStale=!0)),G?D.__staleWhileFetching:D.__returned=D}}get(e,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:a}={}){let l=this.keyMap.get(e);if(l!==void 0){let h=this.valList[l],d=this.isBackgroundFetch(h);return this.statusTTL(a,l),this.isStale(l)?(a&&(a.get="stale"),d?(a&&(a.returnedStale=r&&h.__staleWhileFetching!==void 0),r?h.__staleWhileFetching:void 0):(i||this.delete(e),a&&(a.returnedStale=r),r?h:void 0)):(a&&(a.get="hit"),d?h.__staleWhileFetching:(this.moveToTail(l),n&&this.updateItemAge(l),h))}else a&&(a.get="miss")}connect(e,r){this.prev[r]=e,this.next[e]=r}moveToTail(e){e!==this.tail&&(e===this.head?this.head=this.next[e]:this.connect(this.prev[e],this.next[e]),this.connect(this.tail,e),this.tail=e)}get del(){return $i("del","delete"),this.delete}delete(e){let r=!1;if(this.size!==0){let n=this.keyMap.get(e);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let i=this.valList[n];this.isBackgroundFetch(i)?i.__abortController.abort(new Error("deleted")):(this.dispose(i,e,"delete"),this.disposeAfter&&this.disposed.push([i,e,"delete"])),this.keyMap.delete(e),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let e of this.rindexes({allowStale:!0})){let r=this.valList[e];if(this.isBackgroundFetch(r))r.__abortController.abort(new Error("deleted"));else{let n=this.keyList[e];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return $i("reset","clear"),this.clear}get length(){return fb("length","size"),this.size}static get AbortController(){return ts}static get AbortSignal(){return Nc}};Bc.exports=er});var zc=C((sS,Uc)=>{"use strict";var j=(...t)=>t.every(e=>e)?t.join(""):"",ne=t=>t?encodeURIComponent(t):"",qc=t=>t.toLowerCase().replace(/^\W+|\/|\W+$/g,"").replace(/\W+/g,"-"),db={sshtemplate:({domain:t,user:e,project:r,committish:n})=>`git@${t}:${e}/${r}.git${j("#",n)}`,sshurltemplate:({domain:t,user:e,project:r,committish:n})=>`git+ssh://git@${t}/${e}/${r}.git${j("#",n)}`,edittemplate:({domain:t,user:e,project:r,committish:n,editpath:i,path:a})=>`https://${t}/${e}/${r}${j("/",i,"/",ne(n||"HEAD"),"/",a)}`,browsetemplate:({domain:t,user:e,project:r,committish:n,treepath:i})=>`https://${t}/${e}/${r}${j("/",i,"/",ne(n))}`,browsetreetemplate:({domain:t,user:e,project:r,committish:n,treepath:i,path:a,fragment:l,hashformat:h})=>`https://${t}/${e}/${r}/${i}/${ne(n||"HEAD")}/${a}${j("#",h(l||""))}`,browseblobtemplate:({domain:t,user:e,project:r,committish:n,blobpath:i,path:a,fragment:l,hashformat:h})=>`https://${t}/${e}/${r}/${i}/${ne(n||"HEAD")}/${a}${j("#",h(l||""))}`,docstemplate:({domain:t,user:e,project:r,treepath:n,committish:i})=>`https://${t}/${e}/${r}${j("/",n,"/",ne(i))}#readme`,httpstemplate:({auth:t,domain:e,user:r,project:n,committish:i})=>`git+https://${j(t,"@")}${e}/${r}/${n}.git${j("#",i)}`,filetemplate:({domain:t,user:e,project:r,committish:n,path:i})=>`https://${t}/${e}/${r}/raw/${ne(n||"HEAD")}/${i}`,shortcuttemplate:({type:t,user:e,project:r,committish:n})=>`${t}:${e}/${r}${j("#",n)}`,pathtemplate:({user:t,project:e,committish:r})=>`${t}/${e}${j("#",r)}`,bugstemplate:({domain:t,user:e,project:r})=>`https://${t}/${e}/${r}/issues`,hashformat:qc},ut={};ut.github={protocols:["git:","http:","git+ssh:","git+https:","ssh:","https:"],domain:"github.com",treepath:"tree",blobpath:"blob",editpath:"edit",filetemplate:({auth:t,user:e,project:r,committish:n,path:i})=>`https://${j(t,"@")}raw.githubusercontent.com/${e}/${r}/${ne(n||"HEAD")}/${i}`,gittemplate:({auth:t,domain:e,user:r,project:n,committish:i})=>`git://${j(t,"@")}${e}/${r}/${n}.git${j("#",i)}`,tarballtemplate:({domain:t,user:e,project:r,committish:n})=>`https://codeload.${t}/${e}/${r}/tar.gz/${ne(n||"HEAD")}`,extract:t=>{let[,e,r,n,i]=t.pathname.split("/",5);if(!(n&&n!=="tree")&&(n||(i=t.hash.slice(1)),r&&r.endsWith(".git")&&(r=r.slice(0,-4)),!(!e||!r)))return{user:e,project:r,committish:i}}};ut.bitbucket={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"bitbucket.org",treepath:"src",blobpath:"src",editpath:"?mode=edit",edittemplate:({domain:t,user:e,project:r,committish:n,treepath:i,path:a,editpath:l})=>`https://${t}/${e}/${r}${j("/",i,"/",ne(n||"HEAD"),"/",a,l)}`,tarballtemplate:({domain:t,user:e,project:r,committish:n})=>`https://${t}/${e}/${r}/get/${ne(n||"HEAD")}.tar.gz`,extract:t=>{let[,e,r,n]=t.pathname.split("/",4);if(!["get"].includes(n)&&(r&&r.endsWith(".git")&&(r=r.slice(0,-4)),!(!e||!r)))return{user:e,project:r,committish:t.hash.slice(1)}}};ut.gitlab={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"gitlab.com",treepath:"tree",blobpath:"tree",editpath:"-/edit",httpstemplate:({auth:t,domain:e,user:r,project:n,committish:i})=>`git+https://${j(t,"@")}${e}/${r}/${n}.git${j("#",i)}`,tarballtemplate:({domain:t,user:e,project:r,committish:n})=>`https://${t}/${e}/${r}/repository/archive.tar.gz?ref=${ne(n||"HEAD")}`,extract:t=>{let e=t.pathname.slice(1);if(e.includes("/-/")||e.includes("/archive.tar.gz"))return;let r=e.split("/"),n=r.pop();n.endsWith(".git")&&(n=n.slice(0,-4));let i=r.join("/");if(!(!i||!n))return{user:i,project:n,committish:t.hash.slice(1)}}};ut.gist={protocols:["git:","git+ssh:","git+https:","ssh:","https:"],domain:"gist.github.com",editpath:"edit",sshtemplate:({domain:t,project:e,committish:r})=>`git@${t}:${e}.git${j("#",r)}`,sshurltemplate:({domain:t,project:e,committish:r})=>`git+ssh://git@${t}/${e}.git${j("#",r)}`,edittemplate:({domain:t,user:e,project:r,committish:n,editpath:i})=>`https://${t}/${e}/${r}${j("/",ne(n))}/${i}`,browsetemplate:({domain:t,project:e,committish:r})=>`https://${t}/${e}${j("/",ne(r))}`,browsetreetemplate:({domain:t,project:e,committish:r,path:n,hashformat:i})=>`https://${t}/${e}${j("/",ne(r))}${j("#",i(n))}`,browseblobtemplate:({domain:t,project:e,committish:r,path:n,hashformat:i})=>`https://${t}/${e}${j("/",ne(r))}${j("#",i(n))}`,docstemplate:({domain:t,project:e,committish:r})=>`https://${t}/${e}${j("/",ne(r))}`,httpstemplate:({domain:t,project:e,committish:r})=>`git+https://${t}/${e}.git${j("#",r)}`,filetemplate:({user:t,project:e,committish:r,path:n})=>`https://gist.githubusercontent.com/${t}/${e}/raw${j("/",ne(r))}/${n}`,shortcuttemplate:({type:t,project:e,committish:r})=>`${t}:${e}${j("#",r)}`,pathtemplate:({project:t,committish:e})=>`${t}${j("#",e)}`,bugstemplate:({domain:t,project:e})=>`https://${t}/${e}`,gittemplate:({domain:t,project:e,committish:r})=>`git://${t}/${e}.git${j("#",r)}`,tarballtemplate:({project:t,committish:e})=>`https://codeload.github.com/gist/${t}/tar.gz/${ne(e||"HEAD")}`,extract:t=>{let[,e,r,n]=t.pathname.split("/",4);if(n!=="raw"){if(!r){if(!e)return;r=e,e=null}return r.endsWith(".git")&&(r=r.slice(0,-4)),{user:e,project:r,committish:t.hash.slice(1)}}},hashformat:function(t){return t&&"file-"+qc(t)}};ut.sourcehut={protocols:["git+ssh:","https:"],domain:"git.sr.ht",treepath:"tree",blobpath:"tree",filetemplate:({domain:t,user:e,project:r,committish:n,path:i})=>`https://${t}/${e}/${r}/blob/${ne(n)||"HEAD"}/${i}`,httpstemplate:({domain:t,user:e,project:r,committish:n})=>`https://${t}/${e}/${r}.git${j("#",n)}`,tarballtemplate:({domain:t,user:e,project:r,committish:n})=>`https://${t}/${e}/${r}/archive/${ne(n)||"HEAD"}.tar.gz`,bugstemplate:({user:t,project:e})=>`https://todo.sr.ht/${t}/${e}`,extract:t=>{let[,e,r,n]=t.pathname.split("/",4);if(!["archive"].includes(n)&&(r&&r.endsWith(".git")&&(r=r.slice(0,-4)),!(!e||!r)))return{user:e,project:r,committish:t.hash.slice(1)}}};for(let[t,e]of Object.entries(ut))ut[t]=Object.assign({},db,e);Uc.exports=ut});var Hi=C((iS,Wc)=>{var pb=ye("url"),Di=(t,e,r)=>{let n=t.indexOf(r);return t.lastIndexOf(e,n>-1?n:1/0)},Mc=t=>{try{return new pb.URL(t)}catch{}},mb=(t,e)=>{let r=t.indexOf(":"),n=t.slice(0,r+1);if(Object.prototype.hasOwnProperty.call(e,n))return t;let i=t.indexOf("@");return i>-1?i>r?`git+ssh://${t}`:t:t.indexOf("//")===r+1?t:`${t.slice(0,r+1)}//${t.slice(r+1)}`},gb=t=>{let e=Di(t,"@","#"),r=Di(t,":","#");return r>e&&(t=t.slice(0,r)+"/"+t.slice(r+1)),Di(t,":","#")===-1&&t.indexOf("//")===-1&&(t=`git+ssh://${t}`),t};Wc.exports=(t,e)=>{let r=e?mb(t,e):t;return Mc(r)||Mc(gb(r))}});var jc=C((oS,kc)=>{"use strict";var bb=Hi(),yb=t=>{let e=t.indexOf("#"),r=t.indexOf("/"),n=t.indexOf("/",r+1),i=t.indexOf(":"),a=/\s/.exec(t),l=t.indexOf("@"),h=!a||e>-1&&a.index>e,d=l===-1||e>-1&&l>e,c=i===-1||e>-1&&i>e,g=n===-1||e>-1&&n>e,b=r>0,m=e>-1?t[e-1]!=="/":!t.endsWith("/"),p=!t.startsWith(".");return h&&b&&m&&p&&d&&c&&g};kc.exports=(t,e,{gitHosts:r,protocols:n})=>{var S,A;if(!t)return;let i=yb(t)?`github:${t}`:t,a=bb(i,n);if(!a)return;let l=r.byShortcut[a.protocol],h=r.byDomain[a.hostname.startsWith("www.")?a.hostname.slice(4):a.hostname],d=l||h;if(!d)return;let c=r[l||h],g=null;(S=n[a.protocol])!=null&&S.auth&&(a.username||a.password)&&(g=`${a.username}${a.password?":"+a.password:""}`);let b=null,m=null,p=null,_=null;try{if(l){let E=a.pathname.startsWith("/")?a.pathname.slice(1):a.pathname,L=E.indexOf("@");L>-1&&(E=E.slice(L+1));let P=E.lastIndexOf("/");P>-1?(m=decodeURIComponent(E.slice(0,P)),m||(m=null),p=decodeURIComponent(E.slice(P+1))):p=decodeURIComponent(E),p.endsWith(".git")&&(p=p.slice(0,-4)),a.hash&&(b=decodeURIComponent(a.hash.slice(1))),_="shortcut"}else{if(!c.protocols.includes(a.protocol))return;let E=c.extract(a);if(!E)return;m=E.user&&decodeURIComponent(E.user),p=decodeURIComponent(E.project),b=decodeURIComponent(E.committish),_=((A=n[a.protocol])==null?void 0:A.name)||a.protocol.slice(0,-1)}}catch(E){if(E instanceof URIError)return;throw E}return[d,m,g,p,b,_,e]}});var Gc=C((aS,Vc)=>{"use strict";var _b=Fc(),wb=zc(),Sb=jc(),Rb=Hi(),Bi=new _b({max:1e3}),ns=class t{constructor(e,r,n,i,a,l,h={}){Object.assign(this,t.#e[e],{type:e,user:r,auth:n,project:i,committish:a,default:l,opts:h})}static#e={byShortcut:{},byDomain:{}};static#r={"git+ssh:":{name:"sshurl"},"ssh:":{name:"sshurl"},"git+https:":{name:"https",auth:!0},"git:":{auth:!0},"http:":{auth:!0},"https:":{auth:!0},"git+http:":{auth:!0}};static addHost(e,r){t.#e[e]=r,t.#e.byDomain[r.domain]=e,t.#e.byShortcut[`${e}:`]=e,t.#r[`${e}:`]={name:e}}static fromUrl(e,r){if(typeof e!="string")return;let n=e+JSON.stringify(r||{});if(!Bi.has(n)){let i=Sb(e,r,{gitHosts:t.#e,protocols:t.#r});Bi.set(n,i?new t(...i):void 0)}return Bi.get(n)}static parseUrl(e){return Rb(e)}#t(e,r){if(typeof e!="function")return null;let n={...this,...this.opts,...r};n.path||(n.path=""),n.path.startsWith("/")&&(n.path=n.path.slice(1)),n.noCommittish&&(n.committish=null);let i=e(n);return n.noGitPlus&&i.startsWith("git+")?i.slice(4):i}hash(){return this.committish?`#${this.committish}`:""}ssh(e){return this.#t(this.sshtemplate,e)}sshurl(e){return this.#t(this.sshurltemplate,e)}browse(e,...r){return typeof e!="string"?this.#t(this.browsetemplate,e):typeof r[0]!="string"?this.#t(this.browsetreetemplate,{...r[0],path:e}):this.#t(this.browsetreetemplate,{...r[1],fragment:r[0],path:e})}browseFile(e,...r){return typeof r[0]!="string"?this.#t(this.browseblobtemplate,{...r[0],path:e}):this.#t(this.browseblobtemplate,{...r[1],fragment:r[0],path:e})}docs(e){return this.#t(this.docstemplate,e)}bugs(e){return this.#t(this.bugstemplate,e)}https(e){return this.#t(this.httpstemplate,e)}git(e){return this.#t(this.gittemplate,e)}shortcut(e){return this.#t(this.shortcuttemplate,e)}path(e){return this.#t(this.pathtemplate,e)}tarball(e){return this.#t(this.tarballtemplate,{...e,noCommittish:!1})}file(e,r){return this.#t(this.filetemplate,{...r,path:e})}edit(e,r){return this.#t(this.edittemplate,{...r,path:e})}getDefaultRepresentation(){return this.default}toString(e){return this.default&&typeof this[this.default]=="function"?this[this.default](e):this.sshurl(e)}};for(let[t,e]of Object.entries(wb))ns.addHost(t,e);Vc.exports=ns});var sh=C((_S,nh)=>{"use strict";var Ct=class t extends Error{constructor(e,r,n){super("[ParserError] "+e,r,n),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,t)}},as=class{constructor(e){this.parser=e,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}},Vr=class{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new as(this.parseStart)}parse(e){if(e.length===0||e.length==null)return;this._buf=String(e),this.ii=-1,this.char=-1;let r;for(;r===!1||this.nextChar();)r=this.runOne();this._buf=null}nextChar(){return this.char===10&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){this.char=1114112;let e;do e=this.state.parser,this.runOne();while(this.state.parser!==e);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(e){if(typeof e!="function")throw new Ct("Tried to set state to non-existent state: "+JSON.stringify(e));this.state.parser=e}goto(e){return this.next(e),this.runOne()}call(e,r){r&&this.next(r),this.stack.push(this.state),this.state=new as(e)}callNow(e,r){return this.call(e,r),this.runOne()}return(e){if(this.stack.length===0)throw this.error(new Ct("Stack underflow"));e===void 0&&(e=this.state.buf),this.state=this.stack.pop(),this.state.returned=e}returnNow(e){return this.return(e),this.runOne()}consume(){if(this.char===1114112)throw this.error(new Ct("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(e){return e.line=this.line,e.col=this.col,e.pos=this.pos,e}parseStart(){throw new Ct("Must declare a parseStart method")}};Vr.END=1114112;Vr.Error=Ct;nh.exports=Vr});var oh=C((wS,ih)=>{"use strict";ih.exports=t=>{let e=new Date(t);if(isNaN(e))throw new TypeError("Invalid Datetime");return e}});var ls=C((SS,ah)=>{"use strict";ah.exports=(t,e)=>{for(e=String(e);e.length<t;)e="0"+e;return e}});var uh=C((RS,lh)=>{"use strict";var nr=ls(),ji=class extends Date{constructor(e){super(e+"Z"),this.isFloating=!0}toISOString(){let e=`${this.getUTCFullYear()}-${nr(2,this.getUTCMonth()+1)}-${nr(2,this.getUTCDate())}`,r=`${nr(2,this.getUTCHours())}:${nr(2,this.getUTCMinutes())}:${nr(2,this.getUTCSeconds())}.${nr(3,this.getUTCMilliseconds())}`;return`${e}T${r}`}};lh.exports=t=>{let e=new ji(t);if(isNaN(e))throw new TypeError("Invalid Datetime");return e}});var fh=C((ES,hh)=>{"use strict";var ch=ls(),Nb=global.Date,Vi=class extends Nb{constructor(e){super(e),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${ch(2,this.getUTCMonth()+1)}-${ch(2,this.getUTCDate())}`}};hh.exports=t=>{let e=new Vi(t);if(isNaN(e))throw new TypeError("Invalid Datetime");return e}});var ph=C((TS,dh)=>{"use strict";var us=ls(),Gi=class extends Date{constructor(e){super(`0000-01-01T${e}Z`),this.isTime=!0}toISOString(){return`${us(2,this.getUTCHours())}:${us(2,this.getUTCMinutes())}:${us(2,this.getUTCSeconds())}.${us(3,this.getUTCMilliseconds())}`}};dh.exports=t=>{let e=new Gi(t);if(isNaN(e))throw new TypeError("Invalid Datetime");return e}});var mh=C((exports,module)=>{"use strict";module.exports=makeParserClass(sh());module.exports.makeParserClass=makeParserClass;var TomlError=class t extends Error{constructor(e){super(e),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,t),this.fromTOML=!0,this.wrapped=null}};TomlError.wrap=t=>{let e=new TomlError(t.message);return e.code=t.code,e.wrapped=t,e};module.exports.TomlError=TomlError;var createDateTime=oh(),createDateTimeFloat=uh(),createDate=fh(),createTime=ph(),CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"	",[CHAR_n]:`
`,[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(t){return t>=CHAR_0&&t<=CHAR_9}function isHexit(t){return t>=CHAR_A&&t<=CHAR_F||t>=CHAR_a&&t<=CHAR_f||t>=CHAR_0&&t<=CHAR_9}function isBit(t){return t===CHAR_1||t===CHAR_0}function isOctit(t){return t>=CHAR_0&&t<=CHAR_7}function isAlphaNumQuoteHyphen(t){return t>=CHAR_A&&t<=CHAR_Z||t>=CHAR_a&&t<=CHAR_z||t>=CHAR_0&&t<=CHAR_9||t===CHAR_APOS||t===CHAR_QUOT||t===CHAR_LOWBAR||t===CHAR_HYPHEN}function isAlphaNumHyphen(t){return t>=CHAR_A&&t<=CHAR_Z||t>=CHAR_a&&t<=CHAR_z||t>=CHAR_0&&t<=CHAR_9||t===CHAR_LOWBAR||t===CHAR_HYPHEN}var _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(t,e){return hasOwnProperty.call(t,e)?!0:(e==="__proto__"&&defineProperty(t,"__proto__",descriptor),!1)}var INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(t){return t===null||typeof t!="object"?!1:t[_type]===INLINE_TABLE}var TABLE=Symbol("table");function Table(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(t){return t===null||typeof t!="object"?!1:t[_type]===TABLE}var _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(t){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:t}})}function isInlineList(t){return t===null||typeof t!="object"?!1:t[_type]===INLINE_LIST}var LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(t){return t===null||typeof t!="object"?!1:t[_type]===LIST}var _custom;try{let utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(t){}var _inspect=_custom||"inspect",BoxedBigInt=class{constructor(e){try{this.value=global.BigInt.asIntN(64,e)}catch{this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return this.value===null}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}},INTEGER=Symbol("integer");function Integer(t){let e=Number(t);return Object.is(e,-0)&&(e=0),global.BigInt&&!Number.isSafeInteger(e)?new BoxedBigInt(t):Object.defineProperties(new Number(e),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${t}]`}})}function isInteger(t){return t===null||typeof t!="object"?!1:t[_type]===INTEGER}var FLOAT=Symbol("float");function Float(t){return Object.defineProperties(new Number(t),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${t}]`}})}function isFloat(t){return t===null||typeof t!="object"?!1:t[_type]===FLOAT}function tomlType(t){let e=typeof t;if(e==="object"){if(t===null)return"null";if(t instanceof Date)return"datetime";if(_type in t)switch(t[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return e}function makeParserClass(t){class e extends t{constructor(){super(),this.ctx=this.obj=Table()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===t.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===t.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===t.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(n){let i=this.ctx,a=n.key.pop();for(let l of n.key){if(hasKey(i,l)&&(!isTable(i[l])||i[l][_declared]))throw this.error(new TomlError("Can't redefine existing key"));i=i[l]=i[l]||Table()}if(hasKey(i,a))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(n.value)||isFloat(n.value)?i[a]=n.value.valueOf():i[a]=n.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(n){return this.state.resultTable?this.state.resultTable.push(n):this.state.resultTable=[n],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){if(this.char===CHAR_PERIOD)return this.next(this.parseAssignKeywordPostDot);if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.goto(this.parseAssignEqual)}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(n){return this.returnNow({key:this.state.resultTable,value:n})}parseComment(){do if(this.char===t.END||this.char===CTRL_J)return this.return();while(this.nextChar())}parseTableOrList(){if(this.char===CHAR_LSQB)this.next(this.parseList);else return this.goto(this.parseTable)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(n){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,n)&&(!isTable(this.ctx[n])||this.ctx[n][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[n]=this.ctx[n]||Table(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,n))this.ctx=this.ctx[n]=Table();else if(isTable(this.ctx[n]))this.ctx=this.ctx[n];else if(isList(this.ctx[n]))this.ctx=this.ctx[n][this.ctx[n].length-1];else throw this.error(new TomlError("Can't redefine existing key"));return this.next(this.parseTableNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(n){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,n)||(this.ctx[n]=List()),isInlineList(this.ctx[n]))throw this.error(new TomlError("Can't extend an inline array"));if(isList(this.ctx[n])){let i=Table();this.ctx[n].push(i),this.ctx=i}else throw this.error(new TomlError("Can't redefine an existing key"));return this.next(this.parseListEnd)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,n))this.ctx=this.ctx[n]=Table();else{if(isInlineList(this.ctx[n]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[n]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[n]))this.ctx=this.ctx[n][this.ctx[n].length-1];else if(isTable(this.ctx[n]))this.ctx=this.ctx[n];else throw this.error(new TomlError("Can't redefine an existing key"))}return this.next(this.parseListNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(n){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===t.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(n){return this.returnNow(n)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return this.state.buf==="-"?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===t.END)throw this.error(new TomlError("Key ended without value"));if(isAlphaNumHyphen(this.char))this.consume();else{if(this.state.buf.length===0)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===t.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.return():(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}recordEscapeReplacement(n){return this.state.buf+=n,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===t.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}errorControlCharInString(){let n="\\u00";return this.char<16&&(n+="0"),n+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in strings, use ${n} instead`))}recordMultiEscapeReplacement(n){return this.state.buf+=n,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.return():(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(n){try{let i=parseInt(n,16);if(i>=SURROGATE_FIRST&&i<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(i))}catch(i){throw this.error(TomlError.wrap(i))}}parseSmallUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=4)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseLargeUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=8)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(isDigit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{let n=Integer(this.state.buf);if(n.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(n)}}}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberFloat);if(isDigit(this.char))this.consume();else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent);else throw this.error(new TomlError("Unexpected character, expected -, + or digit"))}parseNumberExponent(){if(isDigit(this.char))this.consume();else return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf))}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberInteger);if(isDigit(this.char))this.consume(),this.state.buf.length>4&&this.next(this.parseNumberInteger);else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}else{if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(isHexit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let n=Integer(this.state.buf);if(n.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(n)}}}parseIntegerOct(){if(isOctit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let n=Integer(this.state.buf);if(n.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(n)}}}parseIntegerBin(){if(isBit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let n=Integer(this.state.buf);if(n.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(n)}}}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}else{if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}}parseTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}else throw this.error(new TomlError("Incomplete datetime"))}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}}parseOnlyTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.next(this.parseOnlyTimeFractionMaybe)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char===CHAR_PERIOD)this.state.buf="",this.next(this.parseOnlyTimeFraction);else return this.return(createTime(this.state.result))}parseOnlyTimeFraction(){if(isDigit(this.char))this.consume();else if(this.atEndOfWord()){if(this.state.buf.length===0)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(this.state.buf.length===1)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}}parseTimeZoneHour(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseTimeZoneSep(){if(this.char===CHAR_COLON)this.consume(),this.next(this.parseTimeZoneMin);else throw this.error(new TomlError("Unexpected character in datetime, expected colon"))}parseTimeZoneMin(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseBoolean(){if(this.char===CHAR_t)return this.consume(),this.next(this.parseTrue_r);if(this.char===CHAR_f)return this.consume(),this.next(this.parseFalse_a)}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===t.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(n){if(this.state.resultArr){let i=this.state.resultArr[_contentType],a=tomlType(n);if(i!==a)throw this.error(new TomlError(`Inline lists must be a single type, not a mix of ${i} and ${a}`))}else this.state.resultArr=InlineList(tomlType(n));return isFloat(n)||isInteger(n)?this.state.resultArr.push(n.valueOf()):this.state.resultArr.push(n),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===t.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(n){let i=this.state.resultTable,a=n.key.pop();for(let l of n.key){if(hasKey(i,l)&&(!isTable(i[l])||i[l][_declared]))throw this.error(new TomlError("Can't redefine existing key"));i=i[l]=i[l]||Table()}if(hasKey(i,a))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(n.value)||isFloat(n.value)?i[a]=n.value.valueOf():i[a]=n.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===t.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTable);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}}return e}});var bh=C((AS,gh)=>{"use strict";gh.exports=Db;function Db(t,e){if(t.pos==null||t.line==null)return t;let r=t.message;if(r+=` at row ${t.line+1}, col ${t.col+1}, pos ${t.pos}:
`,e&&e.split){let n=e.split(/\n/),i=String(Math.min(n.length,t.line+3)).length,a=" ";for(;a.length<i;)a+=" ";for(let l=Math.max(0,t.line-1);l<Math.min(n.length,t.line+2);++l){let h=String(l+1);if(h.length<i&&(h=" "+h),t.line===l){r+=h+"> "+n[l]+`
`,r+=a+"  ";for(let d=0;d<t.col;++d)r+=" ";r+=`^
`}else r+=h+": "+n[l]+`
`}}return t.message=r+`
`,t}});var _h=C((CS,yh)=>{"use strict";yh.exports=Fb;var Hb=mh(),Bb=bh();function Fb(t){global.Buffer&&global.Buffer.isBuffer(t)&&(t=t.toString("utf8"));let e=new Hb;try{return e.parse(t),e.finish()}catch(r){throw Bb(r,t)}}});function Ms({onlyFirst:t=!1}={}){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}var Gs=Le(da(),1);var pa=Gs.default.HttpProxyAgent,ma=Gs.default.HttpsProxyAgent;var Cr=class extends Map{constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof e.maxAge=="number"&&e.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if(typeof this.onEviction=="function")for(let[r,n]of e)this.onEviction(r,n.value)}_deleteIfExpired(e,r){return typeof r.expiry=="number"&&r.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(e,r.value),this.delete(e)):!1}_getOrDeleteIfExpired(e,r){if(this._deleteIfExpired(e,r)===!1)return r.value}_getItemValue(e,r){return r.expiry?this._getOrDeleteIfExpired(e,r):r.value}_peek(e,r){let n=r.get(e);return this._getItemValue(e,n)}_set(e,r){this.cache.set(e,r),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,r){this.oldCache.delete(e),this._set(e,r)}*_entriesAscending(){for(let e of this.oldCache){let[r,n]=e;this.cache.has(r)||this._deleteIfExpired(r,n)===!1&&(yield e)}for(let e of this.cache){let[r,n]=e;this._deleteIfExpired(r,n)===!1&&(yield e)}}get(e){if(this.cache.has(e)){let r=this.cache.get(e);return this._getItemValue(e,r)}if(this.oldCache.has(e)){let r=this.oldCache.get(e);if(this._deleteIfExpired(e,r)===!1)return this._moveToRecent(e,r),r.value}}set(e,r,{maxAge:n=this.maxAge}={}){let i=typeof n=="number"&&n!==Number.POSITIVE_INFINITY?Date.now()+n:void 0;this.cache.has(e)?this.cache.set(e,{value:r,expiry:i}):this._set(e,{value:r,expiry:i})}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):this.oldCache.has(e)?!this._deleteIfExpired(e,this.oldCache.get(e)):!1}peek(e){if(this.cache.has(e))return this._peek(e,this.cache);if(this.oldCache.has(e))return this._peek(e,this.oldCache)}delete(e){let r=this.cache.delete(e);return r&&this._size--,this.oldCache.delete(e)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");let r=[...this._entriesAscending()],n=r.length-e;n<0?(this.cache=new Map(r),this.oldCache=new Map,this._size=r.length):(n>0&&this._emitEvictions(r.slice(0,n)),this.oldCache=new Map(r.slice(n)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache){let[r,n]=e;this._deleteIfExpired(r,n)===!1&&(yield[r,n.value])}for(let e of this.oldCache){let[r,n]=e;this.cache.has(r)||this._deleteIfExpired(r,n)===!1&&(yield[r,n.value])}}*entriesDescending(){let e=[...this.cache];for(let r=e.length-1;r>=0;--r){let n=e[r],[i,a]=n;this._deleteIfExpired(i,a)===!1&&(yield[i,a.value])}e=[...this.oldCache];for(let r=e.length-1;r>=0;--r){let n=e[r],[i,a]=n;this.cache.has(i)||this._deleteIfExpired(i,a)===!1&&(yield[i,a.value])}}*entriesAscending(){for(let[e,r]of this._entriesAscending())yield[e,r.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(let r of this.oldCache.keys())this.cache.has(r)||e++;return Math.min(this._size+e,this.maxSize)}entries(){return this.entriesAscending()}forEach(e,r=this){for(let[n,i]of this.entriesAscending())e.call(r,i,n,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}};var _a=Le(ba(),1);import{Agent as wd}from"node:http";import{Agent as Sd}from"node:https";var Rd={agentCacheSize:512},ya={maxSockets:64,keepAlive:!1},Ys=class t extends Error{constructor(e){super(e),this.name="TimeoutError",Error.captureStackTrace(this,t)}};function Qs(t,e={}){if(!("undici"in e))throw new Error("The 'undici' option is required");let r={...Rd,...e},n=new Cr({maxSize:r.agentCacheSize});async function i(l,h={}){let{origin:d,protocol:c}=new URL(l),g=h!=null&&h.noProxy?null:(0,_a.getProxyForUrl)(l),b=JSON.stringify({proxyUrl:g,origin:d,...h});if(n.has(b))return n.get(b);let m;if("noProxy"in h&&delete h.noProxy,e.undici){let{ProxyAgent:p,Agent:_}=await import("undici"),S={...h};"keepAlive"in S&&!("pipelining"in S)&&(S.pipelining=S.keepAlive?1:0),"keepAlive"in S&&delete S.keepAlive,"maxSockets"in S&&(S.connections=S.maxSockets,delete S.maxSockets),g?m=new p({...S,uri:g}):m=new _(S)}else{let p=c==="https:";g?m=new(p?ma:pa)({...h,proxy:g}):m=new(p?Sd:wd)(h)}return n.set(b,m),m}let a=(l,{timeout:h=0,agentOpts:d={},...c}={})=>new Promise(async(g,b)=>{var _;if(!e.undici&&!("agent"in c)){let S=await i(l,{...ya,...d});S&&(c.agent=S)}else if(e.undici&&!("dispatcher"in c)){let S=await i(l,{...ya,...d});S&&(c.dispatcher=S)}let m,p;h&&(!("signal"in c)&&globalThis.AbortController&&(p=new AbortController,c.signal=p.signal),m=setTimeout(()=>{var A;(A=p==null?void 0:p.abort)==null||A.call(p);let S=new Ys(`${c.method||"GET"} ${l} timed out after ${h}ms`);b(S)},h),(_=m==null?void 0:m.unref)==null||_.call(m)),t(l,c).then(S=>{m&&clearTimeout(m),g(S)}).catch(S=>{if(m&&clearTimeout(m),S.name==="AbortError")return g(null);b(S)})});return a.clearCache=()=>{for(let l of n.values())"destroy"in l&&l.destroy();n.clear()},a}var xh=Le(Ks(),1);import Kd from"node:http";import Xd from"node:https";import jt from"node:zlib";import rl,{PassThrough as nl,pipeline as Vt}from"node:stream";import{Buffer as Fn}from"node:buffer";function Td(t){if(!/^data:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');t=t.replace(/\r?\n/g,"");let e=t.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let r=t.substring(5,e).split(";"),n="",i=!1,a=r[0]||"text/plain",l=a;for(let g=1;g<r.length;g++)r[g]==="base64"?i=!0:r[g]&&(l+=`;${r[g]}`,r[g].indexOf("charset=")===0&&(n=r[g].substring(8)));!r[0]&&!n.length&&(l+=";charset=US-ASCII",n="US-ASCII");let h=i?"base64":"ascii",d=unescape(t.substring(e+1)),c=Buffer.from(d,h);return c.type=a,c.typeFull=l,c.charset=n,c}var Ea=Td;vr();On();import ot,{PassThrough as Ma}from"node:stream";import{types as Wa,deprecate as ii,promisify as zd}from"node:util";import{Buffer as Re}from"node:buffer";var Ve=class extends Error{constructor(e,r){super(e),Error.captureStackTrace(this,this.constructor),this.type=r}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var pe=class extends Ve{constructor(e,r,n){super(e,r),n&&(this.code=this.errno=n.code,this.erroredSysCall=n.syscall)}};var In=Symbol.toStringTag,ti=t=>typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&typeof t.sort=="function"&&t[In]==="URLSearchParams",Or=t=>t&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&/^(Blob|File)$/.test(t[In]),La=t=>typeof t=="object"&&(t[In]==="AbortSignal"||t[In]==="EventTarget"),Pa=(t,e)=>{let r=new URL(e).hostname,n=new URL(t).hostname;return r===n||r.endsWith(`.${n}`)},Na=(t,e)=>{let r=new URL(e).protocol,n=new URL(t).protocol;return r===n};var Md=zd(ot.pipeline),me=Symbol("Body internals"),Fe=class{constructor(e,{size:r=0}={}){let n=null;e===null?e=null:ti(e)?e=Re.from(e.toString()):Or(e)||Re.isBuffer(e)||(Wa.isAnyArrayBuffer(e)?e=Re.from(e):ArrayBuffer.isView(e)?e=Re.from(e.buffer,e.byteOffset,e.byteLength):e instanceof ot||(e instanceof bt?(e=$a(e),n=e.type.split("=")[1]):e=Re.from(String(e))));let i=e;Re.isBuffer(e)?i=ot.Readable.from(e):Or(e)&&(i=ot.Readable.from(e.stream())),this[me]={body:e,stream:i,boundary:n,disturbed:!1,error:null},this.size=r,e instanceof ot&&e.on("error",a=>{let l=a instanceof Ve?a:new pe(`Invalid response body while trying to fetch ${this.url}: ${a.message}`,"system",a);this[me].error=l})}get body(){return this[me].stream}get bodyUsed(){return this[me].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:r,byteLength:n}=await si(this);return e.slice(r,r+n)}async formData(){let e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){let n=new bt,i=new URLSearchParams(await this.text());for(let[a,l]of i)n.append(a,l);return n}let{toFormData:r}=await Promise.resolve().then(()=>(za(),Ua));return r(this.body,e)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[me].body&&this[me].body.type||"",r=await this.arrayBuffer();return new je([r],{type:e})}async json(){let e=await this.text();return JSON.parse(e)}async text(){let e=await si(this);return new TextDecoder().decode(e)}buffer(){return si(this)}};Fe.prototype.buffer=ii(Fe.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Fe.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:ii(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function si(t){if(t[me].disturbed)throw new TypeError(`body used already for: ${t.url}`);if(t[me].disturbed=!0,t[me].error)throw t[me].error;let{body:e}=t;if(e===null)return Re.alloc(0);if(!(e instanceof ot))return Re.alloc(0);let r=[],n=0;try{for await(let i of e){if(t.size>0&&n+i.length>t.size){let a=new pe(`content size at ${t.url} over limit: ${t.size}`,"max-size");throw e.destroy(a),a}n+=i.length,r.push(i)}}catch(i){throw i instanceof Ve?i:new pe(`Invalid response body while trying to fetch ${t.url}: ${i.message}`,"system",i)}if(e.readableEnded===!0||e._readableState.ended===!0)try{return r.every(i=>typeof i=="string")?Re.from(r.join("")):Re.concat(r,n)}catch(i){throw new pe(`Could not create Buffer from response body for ${t.url}: ${i.message}`,"system",i)}else throw new pe(`Premature close of server response while trying to fetch ${t.url}`)}var Wt=(t,e)=>{let r,n,{body:i}=t[me];if(t.bodyUsed)throw new Error("cannot clone body after it is used");return i instanceof ot&&typeof i.getBoundary!="function"&&(r=new Ma({highWaterMark:e}),n=new Ma({highWaterMark:e}),i.pipe(r),i.pipe(n),t[me].stream=r,i=n),i},Wd=ii(t=>t.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Pn=(t,e)=>t===null?null:typeof t=="string"?"text/plain;charset=UTF-8":ti(t)?"application/x-www-form-urlencoded;charset=UTF-8":Or(t)?t.type||null:Re.isBuffer(t)||Wa.isAnyArrayBuffer(t)||ArrayBuffer.isView(t)?null:t instanceof bt?`multipart/form-data; boundary=${e[me].boundary}`:t&&typeof t.getBoundary=="function"?`multipart/form-data;boundary=${Wd(t)}`:t instanceof ot?null:"text/plain;charset=UTF-8",ka=t=>{let{body:e}=t[me];return e===null?0:Or(e)?e.size:Re.isBuffer(e)?e.length:e&&typeof e.getLengthSync=="function"&&e.hasKnownLength&&e.hasKnownLength()?e.getLengthSync():null},ja=async(t,{body:e})=>{e===null?t.end():await Md(e,t)};import{types as Va}from"node:util";import Dn from"node:http";var Nn=typeof Dn.validateHeaderName=="function"?Dn.validateHeaderName:t=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let e=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(e,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),e}},oi=typeof Dn.validateHeaderValue=="function"?Dn.validateHeaderValue:(t,e)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(e)){let r=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_CHAR"}),r}},_e=class t extends URLSearchParams{constructor(e){let r=[];if(e instanceof t){let n=e.raw();for(let[i,a]of Object.entries(n))r.push(...a.map(l=>[i,l]))}else if(e!=null)if(typeof e=="object"&&!Va.isBoxedPrimitive(e)){let n=e[Symbol.iterator];if(n==null)r.push(...Object.entries(e));else{if(typeof n!="function")throw new TypeError("Header pairs must be iterable");r=[...e].map(i=>{if(typeof i!="object"||Va.isBoxedPrimitive(i))throw new TypeError("Each header pair must be an iterable object");return[...i]}).map(i=>{if(i.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...i]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return r=r.length>0?r.map(([n,i])=>(Nn(n),oi(n,String(i)),[String(n).toLowerCase(),String(i)])):void 0,super(r),new Proxy(this,{get(n,i,a){switch(i){case"append":case"set":return(l,h)=>(Nn(l),oi(l,String(h)),URLSearchParams.prototype[i].call(n,String(l).toLowerCase(),String(h)));case"delete":case"has":case"getAll":return l=>(Nn(l),URLSearchParams.prototype[i].call(n,String(l).toLowerCase()));case"keys":return()=>(n.sort(),new Set(URLSearchParams.prototype.keys.call(n)).keys());default:return Reflect.get(n,i,a)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){let r=this.getAll(e);if(r.length===0)return null;let n=r.join(", ");return/^content-encoding$/i.test(e)&&(n=n.toLowerCase()),n}forEach(e,r=void 0){for(let n of this.keys())Reflect.apply(e,r,[this.get(n),n,this])}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,r)=>(e[r]=this.getAll(r),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,r)=>{let n=this.getAll(r);return r==="host"?e[r]=n[0]:e[r]=n.length>1?n:n[0],e},{})}};Object.defineProperties(_e.prototype,["get","entries","forEach","values"].reduce((t,e)=>(t[e]={enumerable:!0},t),{}));function Ga(t=[]){return new _e(t.reduce((e,r,n,i)=>(n%2===0&&e.push(i.slice(n,n+2)),e),[]).filter(([e,r])=>{try{return Nn(e),oi(e,String(r)),!0}catch{return!1}}))}var kd=new Set([301,302,303,307,308]),Hn=t=>kd.has(t);var Pe=Symbol("Response internals"),Ee=class t extends Fe{constructor(e=null,r={}){super(e,r);let n=r.status!=null?r.status:200,i=new _e(r.headers);if(e!==null&&!i.has("Content-Type")){let a=Pn(e,this);a&&i.append("Content-Type",a)}this[Pe]={type:"default",url:r.url,status:n,statusText:r.statusText||"",headers:i,counter:r.counter,highWaterMark:r.highWaterMark}}get type(){return this[Pe].type}get url(){return this[Pe].url||""}get status(){return this[Pe].status}get ok(){return this[Pe].status>=200&&this[Pe].status<300}get redirected(){return this[Pe].counter>0}get statusText(){return this[Pe].statusText}get headers(){return this[Pe].headers}get highWaterMark(){return this[Pe].highWaterMark}clone(){return new t(Wt(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,r=302){if(!Hn(r))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new t(null,{headers:{location:new URL(e).toString()},status:r})}static error(){let e=new t(null,{status:0,statusText:""});return e[Pe].type="error",e}static json(e=void 0,r={}){let n=JSON.stringify(e);if(n===void 0)throw new TypeError("data is not JSON serializable");let i=new _e(r&&r.headers);return i.has("content-type")||i.set("content-type","application/json"),new t(n,{...r,headers:i})}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(Ee.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});import{format as Gd}from"node:url";import{deprecate as Yd}from"node:util";var Ya=t=>{if(t.search)return t.search;let e=t.href.length-1,r=t.hash||(t.href[e]==="#"?"#":"");return t.href[e-r.length]==="?"?"?":""};import{isIP as jd}from"node:net";function Qa(t,e=!1){return t==null||(t=new URL(t),/^(about|blob|data):$/.test(t.protocol))?"no-referrer":(t.username="",t.password="",t.hash="",e&&(t.pathname="",t.search=""),t)}var Ka=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),Xa="strict-origin-when-cross-origin";function Za(t){if(!Ka.has(t))throw new TypeError(`Invalid referrerPolicy: ${t}`);return t}function Vd(t){if(/^(http|ws)s:$/.test(t.protocol))return!0;let e=t.host.replace(/(^\[)|(]$)/g,""),r=jd(e);return r===4&&/^127\./.test(e)||r===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(e)?!0:t.host==="localhost"||t.host.endsWith(".localhost")?!1:t.protocol==="file:"}function kt(t){return/^about:(blank|srcdoc)$/.test(t)||t.protocol==="data:"||/^(blob|filesystem):$/.test(t.protocol)?!0:Vd(t)}function Ja(t,{referrerURLCallback:e,referrerOriginCallback:r}={}){if(t.referrer==="no-referrer"||t.referrerPolicy==="")return null;let n=t.referrerPolicy;if(t.referrer==="about:client")return"no-referrer";let i=t.referrer,a=Qa(i),l=Qa(i,!0);a.toString().length>4096&&(a=l),e&&(a=e(a)),r&&(l=r(l));let h=new URL(t.url);switch(n){case"no-referrer":return"no-referrer";case"origin":return l;case"unsafe-url":return a;case"strict-origin":return kt(a)&&!kt(h)?"no-referrer":l.toString();case"strict-origin-when-cross-origin":return a.origin===h.origin?a:kt(a)&&!kt(h)?"no-referrer":l;case"same-origin":return a.origin===h.origin?a:"no-referrer";case"origin-when-cross-origin":return a.origin===h.origin?a:l;case"no-referrer-when-downgrade":return kt(a)&&!kt(h)?"no-referrer":a;default:throw new TypeError(`Invalid referrerPolicy: ${n}`)}}function el(t){let e=(t.get("referrer-policy")||"").split(/[,\s]+/),r="";for(let n of e)n&&Ka.has(n)&&(r=n);return r}var se=Symbol("Request internals"),$r=t=>typeof t=="object"&&typeof t[se]=="object",Qd=Yd(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),_t=class t extends Fe{constructor(e,r={}){let n;if($r(e)?n=new URL(e.url):(n=new URL(e),e={}),n.username!==""||n.password!=="")throw new TypeError(`${n} is an url with embedded credentials.`);let i=r.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(i)&&(i=i.toUpperCase()),!$r(r)&&"data"in r&&Qd(),(r.body!=null||$r(e)&&e.body!==null)&&(i==="GET"||i==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body?r.body:$r(e)&&e.body!==null?Wt(e):null;super(a,{size:r.size||e.size||0});let l=new _e(r.headers||e.headers||{});if(a!==null&&!l.has("Content-Type")){let c=Pn(a,this);c&&l.set("Content-Type",c)}let h=$r(e)?e.signal:null;if("signal"in r&&(h=r.signal),h!=null&&!La(h))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let d=r.referrer==null?e.referrer:r.referrer;if(d==="")d="no-referrer";else if(d){let c=new URL(d);d=/^about:(\/\/)?client$/.test(c)?"client":c}else d=void 0;this[se]={method:i,redirect:r.redirect||e.redirect||"follow",headers:l,parsedURL:n,signal:h,referrer:d},this.follow=r.follow===void 0?e.follow===void 0?20:e.follow:r.follow,this.compress=r.compress===void 0?e.compress===void 0?!0:e.compress:r.compress,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent,this.highWaterMark=r.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=r.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=r.referrerPolicy||e.referrerPolicy||""}get method(){return this[se].method}get url(){return Gd(this[se].parsedURL)}get headers(){return this[se].headers}get redirect(){return this[se].redirect}get signal(){return this[se].signal}get referrer(){if(this[se].referrer==="no-referrer")return"";if(this[se].referrer==="client")return"about:client";if(this[se].referrer)return this[se].referrer.toString()}get referrerPolicy(){return this[se].referrerPolicy}set referrerPolicy(e){this[se].referrerPolicy=Za(e)}clone(){return new t(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(_t.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var tl=t=>{let{parsedURL:e}=t[se],r=new _e(t[se].headers);r.has("Accept")||r.set("Accept","*/*");let n=null;if(t.body===null&&/^(post|put)$/i.test(t.method)&&(n="0"),t.body!==null){let h=ka(t);typeof h=="number"&&!Number.isNaN(h)&&(n=String(h))}n&&r.set("Content-Length",n),t.referrerPolicy===""&&(t.referrerPolicy=Xa),t.referrer&&t.referrer!=="no-referrer"?t[se].referrer=Ja(t):t[se].referrer="no-referrer",t[se].referrer instanceof URL&&r.set("Referer",t.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),t.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:i}=t;typeof i=="function"&&(i=i(e));let a=Ya(e),l={path:e.pathname+a,method:t.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:t.insecureHTTPParser,agent:i};return{parsedURL:e,options:l}};var Bn=class extends Ve{constructor(e,r="aborted"){super(e,r)}};On();ri();var Zd=new Set(["data:","http:","https:"]);async function qn(t,e){return new Promise((r,n)=>{let i=new _t(t,e),{parsedURL:a,options:l}=tl(i);if(!Zd.has(a.protocol))throw new TypeError(`node-fetch cannot load ${t}. URL scheme "${a.protocol.replace(/:$/,"")}" is not supported.`);if(a.protocol==="data:"){let _=Ea(i.url),S=new Ee(_,{headers:{"Content-Type":_.typeFull}});r(S);return}let h=(a.protocol==="https:"?Xd:Kd).request,{signal:d}=i,c=null,g=()=>{let _=new Bn("The operation was aborted.");n(_),i.body&&i.body instanceof rl.Readable&&i.body.destroy(_),!(!c||!c.body)&&c.body.emit("error",_)};if(d&&d.aborted){g();return}let b=()=>{g(),p()},m=h(a.toString(),l);d&&d.addEventListener("abort",b);let p=()=>{m.abort(),d&&d.removeEventListener("abort",b)};m.on("error",_=>{n(new pe(`request to ${i.url} failed, reason: ${_.message}`,"system",_)),p()}),Jd(m,_=>{c&&c.body&&c.body.destroy(_)}),process.version<"v14"&&m.on("socket",_=>{let S;_.prependListener("end",()=>{S=_._eventsCount}),_.prependListener("close",A=>{if(c&&S<_._eventsCount&&!A){let E=new Error("Premature close");E.code="ERR_STREAM_PREMATURE_CLOSE",c.body.emit("error",E)}})}),m.on("response",_=>{m.setTimeout(0);let S=Ga(_.rawHeaders);if(Hn(_.statusCode)){let T=S.get("Location"),$=null;try{$=T===null?null:new URL(T,i.url)}catch{if(i.redirect!=="manual"){n(new pe(`uri requested responds with an invalid redirect URL: ${T}`,"invalid-redirect")),p();return}}switch(i.redirect){case"error":n(new pe(`uri requested responds with a redirect, redirect mode is set to error: ${i.url}`,"no-redirect")),p();return;case"manual":break;case"follow":{if($===null)break;if(i.counter>=i.follow){n(new pe(`maximum redirect reached at: ${i.url}`,"max-redirect")),p();return}let D={headers:new _e(i.headers),follow:i.follow,counter:i.counter+1,agent:i.agent,compress:i.compress,method:i.method,body:Wt(i),signal:i.signal,size:i.size,referrer:i.referrer,referrerPolicy:i.referrerPolicy};if(!Pa(i.url,$)||!Na(i.url,$))for(let G of["authorization","www-authenticate","cookie","cookie2"])D.headers.delete(G);if(_.statusCode!==303&&i.body&&e.body instanceof rl.Readable){n(new pe("Cannot follow redirect with body being a readable stream","unsupported-redirect")),p();return}(_.statusCode===303||(_.statusCode===301||_.statusCode===302)&&i.method==="POST")&&(D.method="GET",D.body=void 0,D.headers.delete("content-length"));let H=el(S);H&&(D.referrerPolicy=H),r(qn(new _t($,D))),p();return}default:return n(new TypeError(`Redirect option '${i.redirect}' is not a valid value of RequestRedirect`))}}d&&_.once("end",()=>{d.removeEventListener("abort",b)});let A=Vt(_,new nl,T=>{T&&n(T)});process.version<"v12.10"&&_.on("aborted",b);let E={url:i.url,status:_.statusCode,statusText:_.statusMessage,headers:S,size:i.size,counter:i.counter,highWaterMark:i.highWaterMark},L=S.get("Content-Encoding");if(!i.compress||i.method==="HEAD"||L===null||_.statusCode===204||_.statusCode===304){c=new Ee(A,E),r(c);return}let P={flush:jt.Z_SYNC_FLUSH,finishFlush:jt.Z_SYNC_FLUSH};if(L==="gzip"||L==="x-gzip"){A=Vt(A,jt.createGunzip(P),T=>{T&&n(T)}),c=new Ee(A,E),r(c);return}if(L==="deflate"||L==="x-deflate"){let T=Vt(_,new nl,$=>{$&&n($)});T.once("data",$=>{($[0]&15)===8?A=Vt(A,jt.createInflate(),D=>{D&&n(D)}):A=Vt(A,jt.createInflateRaw(),D=>{D&&n(D)}),c=new Ee(A,E),r(c)}),T.once("end",()=>{c||(c=new Ee(A,E),r(c))});return}if(L==="br"){A=Vt(A,jt.createBrotliDecompress(),T=>{T&&n(T)}),c=new Ee(A,E),r(c);return}c=new Ee(A,E),r(c)}),ja(m,i).catch(n)})}function Jd(t,e){let r=Fn.from(`0\r
\r
`),n=!1,i=!1,a;t.on("response",l=>{let{headers:h}=l;n=h["transfer-encoding"]==="chunked"&&!h["content-length"]}),t.on("socket",l=>{let h=()=>{if(n&&!i){let c=new Error("Premature close");c.code="ERR_STREAM_PREMATURE_CLOSE",e(c)}},d=c=>{i=Fn.compare(c.slice(-5),r)===0,!i&&a&&(i=Fn.compare(a.slice(-3),r.slice(0,3))===0&&Fn.compare(c.slice(-2),r.slice(3))===0),a=c};l.prependListener("close",h),l.on("data",d),t.on("close",()=>{l.removeListener("close",h),l.removeListener("data",d)})})}var Oh=Le($l(),1),Ih=Le(ci(),1),V=Le(xc(),1),$h=Le(Pc(),1),Lh=Le(Gc(),1);import{cwd as qb,stdout as Ub,argv as zb,env as cs,exit as Gr,versions as Mb}from"node:process";import{join as hs,dirname as Ph,basename as Yi,resolve as Wb}from"node:path";import{lstatSync as kb,readFileSync as wh,truncateSync as jb,writeFileSync as Vb,accessSync as Gb}from"node:fs";var Eb=[[1e3,6e4,"sec"],[6e4,36e5,"min"],[36e5,864e5,"hour"],[864e5,6048e5,"day"],[6048e5,2628e6,"week"],[2628e6,31536e6,"month"],[31536e6,1/0,"year"]],Tb={"1 day ago":"yesterday","1 week ago":"last week","1 month ago":"last month","1 year ago":"last year","in 1 day":"tomorrow","in 1 week":"next week","in 1 month":"next month","in 1 year":"next year"};function ss(t,{now:e,noAffix:r=!1,times:n=Eb,nowThreshold:i=1e4,nowString:a="now",aliases:l=!1,aliasesMap:h=Tb}={}){if(t=typeof t=="number"?t:Date.parse(t),e=e?typeof e=="number"?e:Date.parse(e):new Date,Number.isNaN(t))return"unknown";let d=!1,c=e-t;if(c<0&&(d=!0,c=Math.abs(c)),c<i)return a;let g,b;for(let p=0,_=n.length;p<_;p++){let S=n[p];if(!(c>=S[1])){g=Math.floor(c/S[0]),b=S[2]+(g>1?"s":"");break}}let m=`${d&&!r?"in ":""}${g} ${b}${!d&&!r?" ago":""}`;return l?h[m]??m:m}import Fi from"node:process";import Ab from"node:os";import Yc from"node:tty";function Ce(t,e=globalThis.Deno?globalThis.Deno.args:Fi.argv){let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}var{env:X}=Fi,is;Ce("no-color")||Ce("no-colors")||Ce("color=false")||Ce("color=never")?is=0:(Ce("color")||Ce("colors")||Ce("color=true")||Ce("color=always"))&&(is=1);function Cb(){if("FORCE_COLOR"in X)return X.FORCE_COLOR==="true"?1:X.FORCE_COLOR==="false"?0:X.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(X.FORCE_COLOR,10),3)}function vb(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function xb(t,{streamIsTTY:e,sniffFlags:r=!0}={}){let n=Cb();n!==void 0&&(is=n);let i=r?is:n;if(i===0)return 0;if(r){if(Ce("color=16m")||Ce("color=full")||Ce("color=truecolor"))return 3;if(Ce("color=256"))return 2}if("TF_BUILD"in X&&"AGENT_NAME"in X)return 1;if(t&&!e&&i===void 0)return 0;let a=i||0;if(X.TERM==="dumb")return a;if(Fi.platform==="win32"){let l=Ab.release().split(".");return Number(l[0])>=10&&Number(l[2])>=10586?Number(l[2])>=14931?3:2:1}if("CI"in X)return"GITHUB_ACTIONS"in X||"GITEA_ACTIONS"in X?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(l=>l in X)||X.CI_NAME==="codeship"?1:a;if("TEAMCITY_VERSION"in X)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(X.TEAMCITY_VERSION)?1:0;if(X.COLORTERM==="truecolor"||X.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in X){let l=Number.parseInt((X.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(X.TERM_PROGRAM){case"iTerm.app":return l>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(X.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(X.TERM)||"COLORTERM"in X?1:a}function Qc(t,e={}){let r=xb(t,{streamIsTTY:t&&t.isTTY,...e});return vb(r)}var Ob={stdout:Qc({isTTY:Yc.isatty(1)}),stderr:Qc({isTTY:Yc.isatty(2)})},Kc=Ob;var Xc=!0;function Zc(){Xc=!1}function qi(t,e,r){return Xc?`\x1B[${e}m${t.join(" ")}\x1B[${r}m`:t.join(" ")}var Ui=(...t)=>qi(t,31,39),tr=(...t)=>qi(t,32,39);var os=(...t)=>qi(t,35,39);var Ib=t=>{let e=typeof t;return t!==null&&(e==="object"||e==="function")};var zi=new Set(["__proto__","prototype","constructor"]),$b=new Set("0123456789");function Lb(t){let e=[],r="",n="start",i=!1;for(let a of t)switch(a){case"\\":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");i&&(r+=a),n="property",i=!i;break}case".":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="property";break}if(i){i=!1,r+=a;break}if(zi.has(r))return[];e.push(r),r="",n="property";break}case"[":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="index";break}if(i){i=!1,r+=a;break}if(n==="property"){if(zi.has(r))return[];e.push(r),r=""}n="index";break}case"]":{if(n==="index"){e.push(Number.parseInt(r,10)),r="",n="indexEnd";break}if(n==="indexEnd")throw new Error("Invalid character after an index")}default:{if(n==="index"&&!$b.has(a))throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");n==="start"&&(n="property"),i&&(i=!1,r+="\\"),r+=a}}switch(i&&(r+="\\"),n){case"property":{if(zi.has(r))return[];e.push(r);break}case"index":throw new Error("Index was not closed");case"start":{e.push("");break}}return e}function Pb(t,e){if(typeof e!="number"&&Array.isArray(t)){let r=Number.parseInt(e,10);return Number.isInteger(r)&&t[r]===t[e]}return!1}function Jc(t,e,r){if(!Ib(t)||typeof e!="string")return r===void 0?t:r;let n=Lb(e);if(n.length===0)return r;for(let i=0;i<n.length;i++){let a=n[i];if(Pb(t,a)?t=i===n.length-1?void 0:null:t=t[a],t==null){if(i!==n.length-1)return r;break}}return t===void 0?r:t}var Mi=class extends Error{constructor(e){super(),this.name="AbortError",this.message=e}},eh=t=>globalThis.DOMException===void 0?new Mi(t):new DOMException(t),th=t=>{let e=t.reason===void 0?eh("This operation was aborted."):t.reason;return e instanceof Error?e:eh(e)};async function Wi(t,e,{concurrency:r=Number.POSITIVE_INFINITY,stopOnError:n=!0,signal:i}={}){return new Promise((a,l)=>{if(t[Symbol.iterator]===void 0&&t[Symbol.asyncIterator]===void 0)throw new TypeError(`Expected \`input\` to be either an \`Iterable\` or \`AsyncIterable\`, got (${typeof t})`);if(typeof e!="function")throw new TypeError("Mapper function is required");if(!((Number.isSafeInteger(r)||r===Number.POSITIVE_INFINITY)&&r>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${r}\` (${typeof r})`);let h=[],d=[],c=new Map,g=!1,b=!1,m=!1,p=0,_=0,S=t[Symbol.iterator]===void 0?t[Symbol.asyncIterator]():t[Symbol.iterator](),A=L=>{g=!0,b=!0,l(L)};i&&(i.aborted&&A(th(i)),i.addEventListener("abort",()=>{A(th(i))}));let E=async()=>{if(b)return;let L=await S.next(),P=_;if(_++,L.done){if(m=!0,p===0&&!b){if(!n&&d.length>0){A(new AggregateError(d));return}if(b=!0,c.size===0){a(h);return}let T=[];for(let[$,D]of h.entries())c.get($)!==rh&&T.push(D);a(T)}return}p++,(async()=>{try{let T=await L.value;if(b)return;let $=await e(T,P);$===rh&&c.set(P,$),h[P]=$,p--,await E()}catch(T){if(n)A(T);else{d.push(T),p--;try{await E()}catch($){A($)}}}})()};(async()=>{for(let L=0;L<r;L++){try{await E()}catch(P){A(P);break}if(m||g)break}})()})}var rh=Symbol("skip");async function ki(t,e){return Wi(t,r=>r(),e)}function rr(t,e){var r=0,n,i;e=e||{};function a(){var l=n,h=arguments.length,d,c;e:for(;l;){if(l.args.length!==arguments.length){l=l.next;continue}for(c=0;c<h;c++)if(l.args[c]!==arguments[c]){l=l.next;continue e}return l!==n&&(l===i&&(i=l.prev),l.prev.next=l.next,l.next&&(l.next.prev=l.prev),l.next=n,l.prev=null,n.prev=l,n=l),l.val}for(d=new Array(h),c=0;c<h;c++)d[c]=arguments[c];return l={args:d,val:t.apply(null,d)},n?(n.prev=l,l.next=n):i=l,r===e.maxSize?(i=i.prev,i.next=null):r++,n=l,l.val}return a.clear=function(){n=null,i=null,r=0},a}var lr,vh;globalThis.fetch&&!((vh=Mb)!=null&&vh.node)?lr=globalThis.fetch:lr=Qs(qn,{undici:!1});var Nh=96,Qe="\0",Yb=/^.*?:\/\/(.*?@)?(github\.com[:/])/i,Qb=/^([^/]+)\/([^/#]+)?.*?\/([0-9a-f]+|v?[0-9]+\.[0-9]+\.[0-9]+)$/i,eo=/^[0-9a-f]{7,}$/i,Sh=/[0-9]+(\.[0-9]+)?(\.[0-9]+)?/g,fs=t=>t.replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&"),Kb=rr(Lh.default.fromUrl),Qi=rr(Oh.default),ds=rr(t=>t.endsWith("/")?t.substring(0,t.length-1):t),Xb=new Set(["patch"]),Zb=new Set(["patch","minor"]),Jb=new Set(["patch","minor","major"]),Dh="14.3.5",z=(0,xh.default)(zb.slice(2),{boolean:["E","error-on-outdated","U","error-on-unchanged","h","help","j","json","n","no-color","u","update","v","version","V","verbose"],string:["d","allow-downgrade","f","file","g","greatest","l","language","m","minor","P","patch","p","prerelease","R","release","r","registry","t","types","githubapi","pypiapi"],alias:{d:"allow-downgrade",E:"error-on-outdated",U:"error-on-unchanged",e:"exclude",f:"file",g:"greatest",h:"help",i:"include",j:"json",l:"language",m:"minor",n:"no-color",P:"patch",p:"prerelease",r:"registry",R:"release",s:"semver",S:"sockets",t:"types",u:"update",v:"version",V:"verbose"}});(z["no-color"]||!Kc.stdout)&&Zc();var sr=ur(z.greatest),Ki=ur(z.prerelease),Xi=ur(z.release),ir=ur(z.patch),or=ur(z.minor),ar=ur(z["allow-downgrade"]),qe=(0,Ih.default)("npm",{registry:"https://registry.npmjs.org"}),Zi={npmrc:qe,recursive:!0},Rh=z.githubapi?ds(z.githubapi):"https://api.github.com",ey=z.pypiapi?ds(z.pypiapi):"https://pypi.org",Hh=typeof z.sockets=="number"?parseInt(z.sockets):Nh,ty=rr((t,e)=>{let r=e[`${t}:registry`]||e.registry;return r.endsWith("/")?r:`${r}/`});function Bh(t,e,r){let n=hs(e,t);try{return Gb(n),n}catch{}let i=Ph(e);return r&&n===r||i===e?null:Bh(t,i,r)}function ry(t,e){if(t.startsWith("@")){let r=(/@[a-z0-9][\w-.]+/.exec(t)||[])[0],n=ds(ty(r,qe));if(n!==e)try{let i=Qi(n,Zi);if(i!=null&&i.token)return[i,n]}catch{}return[Qi(e,Zi),e]}else return[Qi(e,Zi),e]}var Fh=rr((t,e,r)=>({...Object.keys(t).length&&{agentOpts:t},headers:{"user-agent":`updates/${Dh}`,...r&&{Authorization:`${e} ${r}`}}}));async function ny(t,e,r,n){let[i,a]=ry(t,r),h=(e==="resolutions"?py(t):t).replace(/\//g,"%2f"),d=`${a}/${h}`;z.verbose&&console.error(`${os("fetch")} ${d}`);let c=await lr(d,Fh(n,i==null?void 0:i.type,i==null?void 0:i.token));if(c!=null&&c.ok)return z.verbose&&console.error(`${tr("done")} ${d}`),[await c.json(),e,a,t];throw c!=null&&c.status&&(c!=null&&c.statusText)?new Error(`Received ${c.status} ${c.statusText} for ${t} from ${a}`):new Error(`Unable to fetch ${t} from ${a}`)}async function sy(t,e,r){let n=`${ey}/pypi/${t}/json`;z.verbose&&console.error(`${os("fetch")} ${n}`);let i=await lr(n,Fh(r));if(i!=null&&i.ok)return z.verbose&&console.error(`${tr("done")} ${n}`),[await i.json(),e,null,t];throw i!=null&&i.status&&(i!=null&&i.statusText)?new Error(`Received ${i.status} ${i.statusText} for ${t} from PyPi`):new Error(`Unable to fetch ${t} from PyPi`)}function Eh({repository:t,homepage:e,info:r},n,i){var h;r&&(t=r.project_urls.repository||r.project_urls.Repository||r.project_urls.repo||r.project_urls.Repo||r.project_urls.source||r.project_urls.Source||r.project_urls["source code"]||r.project_urls["Source Code"]||r.project_urls.homepage||r.project_urls.Homepage||`https://pypi.org/project/${i}/`);let a;if(n==="https://npm.pkg.github.com")return`https://github.com/${i.replace(/^@/,"")}`;if(t){let d=typeof t=="string"?t:t.url,c=Kb(d),g=(h=c==null?void 0:c.browse)==null?void 0:h.call(c);g&&(a=g),a&&t.directory&&c.treepath&&(a=`${a}/${c.treepath}/HEAD/${t.directory}`),!a&&(t!=null&&t.url)&&/^https?:/.test(t.url)&&(a=t.url),!a&&d&&(a=d)}let l=a||e||"";if(l){let d=new URL(l);d.protocol==="http:"&&d.hostname==="github.com"&&(d.protocol="https:",l=String(d))}return l}function ve(t,e={}){let r={},n=t instanceof Error;typeof t=="string"?r.message=t:n&&(r.error=t.stack||t.message);for(let i of Object.values(e))"oldPrint"in i&&(i.old=i.oldPrint,delete i.oldPrint),"newPrint"in i&&(i.new=i.newPrint,delete i.newPrint),"oldOriginal"in i&&(i.old=i.oldOriginal,delete i.oldOriginal);if(z.json){if(!n){r.results={};for(let[i,a]of Object.entries(e)){let[l,h]=i.split(Qe);r.results[l]||(r.results[l]={}),r.results[l][h]=a}}console.info(JSON.stringify(r))}else Object.keys(e).length&&!n&&console.info(oy(e)),(r.message||r.error)&&(r.message?console.info(r.message):r.error&&console.info(Ui(r.error)));z["error-on-outdated"]?Gr(Object.keys(e).length?2:0):z["error-on-unchanged"]?Gr(Object.keys(e).length?0:2):Gr(r.error?1:0)}async function iy(t,e){let{platform:r}=await import("node:os"),n=r()==="win32";n&&jb(t,0),Vb(t,e,n?{flag:"r+"}:void 0)}function Th(t,e,r){if(t===e)return t;let n=t.split(/\./),i=e.split(/\./),a=/^[0-9a-zA-Z-.]+$/,l="";for(let h=0;h<n.length;h++)if(n[h]!==i[h]){a.test(n[h])?l+=r(n.slice(h).join(".")):l+=n[h].split("").map(d=>a.test(d)?r(d):d).join("")+r(`.${n.slice(h+1).join(".")}`);break}else l+=`${n[h]}.`;return l}function oy(t){let e=[["NAME","OLD","NEW","AGE","INFO"]],r=new Set;for(let[n,i]of Object.entries(t)){let a=n.split(Qe)[1];r.has(a)||(r.add(a),e.push([a,Th(i.old,i.new,Ui),Th(i.new,i.old,tr),i.age||"",i.info]))}return(0,$h.default)(e,{hsep:" ",stringLength:n=>n.replace(Ms(),"").length})}function ay(t,e){let r=t;for(let n of Object.keys(e)){let i=n.split(Qe)[1],a=e[n].oldOriginal||e[n].old,l=new RegExp(`"${fs(i)}": *"${fs(a)}"`,"g");r=r.replace(l,`"${i}": "${e[n].new}"`)}return r}function ly(t,e){let r=t;for(let n of Object.keys(e)){let i=n.split(Qe)[1],a=e[n].oldOriginal||e[n].old,l=new RegExp(`${fs(i)} *= *"${fs(a)}"`,"g");r=r.replace(l,`${i} = "${e[n].new}"`)}return r}function uy(t,e){return t.replace(/[0-9]+\.[0-9]+\.[0-9]+(-.+)?/g,e)}function Ji(t){let e=(0,V.parse)(t);return e?!!e.prerelease.length:!1}function qh(t){return/[0-9]+\.[0-9]+\.[0-9]+-.+/.test(t)}function cy(t){try{return(0,V.coerce)(t).version}catch{return null}}function hy(t,e,{range:r,semvers:n,usePre:i,useRel:a,useGreatest:l}={}){let h=cy(r),d=0;n=new Set(n),i=qh(r)||i,i&&(n.add("prerelease"),n.has("patch")&&n.add("prepatch"),n.has("minor")&&n.add("preminor"),n.has("major")&&n.add("premajor"));for(let c of e){let g=(0,V.parse)(c);if(g.prerelease.length&&(!i||a))continue;let b=(0,V.diff)(h,g.version);if(!(!b||!n.has(b)))if(l||!("time"in t))(0,V.gte)((0,V.coerce)(g.version).version,h)&&(h=g.version);else{let m=new Date(t.time[c]).getTime();m>=0&&m>d&&(h=g.version,d=m)}}return h||null}function fy(t,{language:e,range:r,useGreatest:n,useRel:i,usePre:a,semvers:l}={}){var c;if(r==="*"||r.includes("||"))return null;let h=Object.keys(e==="py"?t.releases:t.versions).filter(g=>(0,V.valid)(g)),d=hy(t,h,{range:r,semvers:l,usePre:a,useRel:i,useGreatest:n});if(n)return d;{let g,b;e==="py"?(b=t.info.version,g=(0,V.coerce)(t.info.version).version):g=t["dist-tags"].latest;let m=(0,V.coerce)(r).version,p=qh(r),_=Ji(d),S=Ji(g),A=(0,V.gt)(d,m);if(!i&&a||p&&_||i&&!A&&p&&!_||p&&!_&&A)return d;if(p&&!_&&!A)return null;let E=(0,V.diff)(m,g);return E&&E!=="prerelease"&&!l.has(E.replace(/^pre/,""))||i&&Ji(g)?d:(0,V.lt)(g,m)&&!S?ar===!0||(c=ar==null?void 0:ar.has)!=null&&c.call(ar,t.name)?g:null:b??g}}async function dy([t,e],{useGreatest:r}={}){var d,c;let n=e.old.replace(Yb,""),[i,a,l,h]=Qb.exec(n)||[];if(!(!a||!l||!h))if(eo.test(h)){let g={maxSockets:Hh},b=cs.UPDATES_GITHUB_API_TOKEN||cs.GITHUB_API_TOKEN||cs.GH_TOKEN||cs.HOMEBREW_GITHUB_API_TOKEN;b&&(g.headers={Authorization:`Bearer ${b}`});let m=`${Rh}/repos/${a}/${l}/commits`;z.verbose&&console.error(`${os("fetch")} ${m}`);let p=await lr(m,g);if(z.verbose&&(p!=null&&p.ok)&&console.error(`${tr("done")} ${m}`),!p||!p.ok)return;let _=await p.json(),{sha:S,commit:A}=_[0];if(!S||!S.length)return;let E=((d=A==null?void 0:A.committer)==null?void 0:d.date)??((c=A==null?void 0:A.author)==null?void 0:c.date);if(S=S.substring(0,h.length),h!==S){let L=e.old.replace(h,S);return{key:t,newRange:L,user:a,repo:l,oldRef:h,newRef:S,newDate:E}}}else{let g=await lr(`${Rh}/repos/${a}/${l}/git/refs/tags`);if(!g||!g.ok)return;let m=(await g.json()).map(_=>_.ref.replace(/^refs\/tags\//,"")),p=h.replace(/^v/,"");if(!(0,V.valid)(p))return;if(r){let _=h,S=h.replace(/^v/,"");for(let A of m){let E=A.replace(/^v/,"");(0,V.valid)(E)&&(!_||(0,V.gt)(E,S))&&(_=A,S=E)}if((0,V.neq)(p,S))return{key:t,newRange:_,user:a,repo:l,oldRef:h,newRef:_}}else{let _=m[m.length-1],S=_.replace(/^v/,"");if(!(0,V.valid)(S))return;if((0,V.neq)(p,S))return{key:t,newRange:_,user:a,repo:l,oldRef:h,newRef:_}}}}function py(t){let e=t.match(/(@[^/]+\/)?([^/]+)/g)||[];return e[e.length-1]}function my(t){let e=t.match(Sh);return(e==null?void 0:e.length)!==1?t:t.replace(Sh,(0,V.coerce)(e[0]))}function ur(t){return t===void 0?!1:t===""?!0:typeof t=="string"?t.includes(",")?new Set(t.split(",")):new Set([t]):Array.isArray(t)?new Set(t):!1}function Ah(t){return Array.from(t.matchAll(/(----BEGIN CERT[^]+?IFICATE----)/g),e=>e[0])}async function Ch(t=[]){return[...(await import("node:tls")).rootCertificates,...t]}async function gy(){var $,D,H,G,Z,te,oe,De,vt;for(let v of[process.stdout,process.stderr])(D=($=v==null?void 0:v._handle)==null?void 0:$.setBlocking)==null||D.call($,!0);let{help:t,version:e,language:r,file:n,types:i,update:a}=z;if(t&&(Ub.write(`usage: updates [options]

  Options:
    -l, --language <lang>              Language to check, either 'js' or 'py'
    -u, --update                       Update versions and write package file
    -p, --prerelease [<pkg,...>]       Consider prerelease versions
    -R, --release [<pkg,...>]          Only use release versions, may downgrade
    -g, --greatest [<pkg,...>]         Prefer greatest over latest version
    -i, --include <pkg,...>            Include only given packages
    -e, --exclude <pkg,...>            Exclude given packages
    -t, --types <type,...>             Check only given dependency types
    -P, --patch [<pkg,...>]            Consider only up to semver-patch
    -m, --minor [<pkg,...>]            Consider only up to semver-minor
    -d, --allow-downgrade [<pkg,...>]  Allow version downgrades when using latest version
    -E, --error-on-outdated            Exit with code 2 when updates are available and 0 when not
    -U, --error-on-unchanged           Exit with code 0 when updates are available and 2 when not
    -r, --registry <url>               Override npm registry URL
    -f, --file <path>                  Use given package file or module directory
    -S, --sockets <num>                Maximum number of parallel HTTP sockets opened. Default: ${Nh}
    -j, --json                         Output a JSON object
    -n, --no-color                     Disable color output
    -v, --version                      Print the version
    -V, --verbose                      Print verbose output to stderr
    -h, --help                         Print this help

  Examples:
    $ updates
    $ updates -u && npm i
`),Gr(0)),e&&(console.info(Dh),Gr(0)),r&&!["js","py"].includes(r))throw new Error(`Invalid language: ${r}`);if(n){let v=Yi(n);v==="package.json"?r="js":v==="pyproject.toml"&&(r="py")}r||(r="js");let l;r==="py"?l="pyproject.toml":r==="js"&&(l="package.json");let h;if(n){let v;try{v=kb(n)}catch(ee){ve(new Error(`Unable to open ${n}: ${ee.message}`))}v!=null&&v.isFile()?h=n:v!=null&&v.isDirectory()?h=hs(n,l):ve(new Error(`${n} is neither a file nor directory`))}else{let v=qb();if(h=Bh(l,v),!h)return ve(new Error(`Unable to find ${l} in ${v} or any of its parent directories`))}let d=Ph(Wb(h)),c={};try{c=(await import(hs(d,"updates.config.js"))).default}catch{try{c=(await import(hs(d,"updates.config.mjs"))).default}catch{}}let g={};if(r==="js"&&(qe["strict-ssl"]===!1&&(g.rejectUnauthorized=!1),"cafile"in qe&&(g.ca=Ch(Ah(wh(qe.cafile,"utf8")))),"ca"in qe)){let v=Array.isArray(qe.ca)?qe.ca:[qe.ca];g.ca=Ch(v.map(ee=>Ah(ee)))}let b;i?b=Array.isArray(i)?i:i.split(","):"types"in c&&Array.isArray(c.types)?b=c.types:r==="js"?b=["dependencies","devDependencies","optionalDependencies","peerDependencies","resolutions"]:b=["tool.poetry.dependencies","tool.poetry.dev-dependencies","tool.poetry.group.dev.dependencies"];let m,p;try{p=wh(h,"utf8")}catch(v){ve(new Error(`Unable to open ${h}: ${v.message}`))}try{r==="js"?m=JSON.parse(p):m=(await Promise.resolve().then(()=>Le(_h(),1))).default(p)}catch(v){ve(new Error(`Error parsing ${h}: ${v.message}`))}let _,S;z.include&&z.include!==!0?_=new Set((Array.isArray(z.include)?z.include:[z.include]).flatMap(v=>v.split(","))):"include"in c&&Array.isArray(c.include)&&(_=new Set(c.include)),z.exclude&&z.exclude!==!0?S=new Set((Array.isArray(z.exclude)?z.exclude:[z.exclude]).flatMap(v=>v.split(","))):"exclude"in c&&Array.isArray(c.exclude)&&(S=new Set(c.exclude));function A(v,ee){var J,le;return!(ee==="py"&&v==="python"||((J=S==null?void 0:S.has)==null?void 0:J.call(S,v))===!0||((le=_==null?void 0:_.has)==null?void 0:le.call(_,v))===!1)}let E={},L={};for(let v of b){let ee;r==="js"?ee=m[v]||{}:ee=Jc(m,v)||{};for(let[J,le]of Object.entries(ee))(0,V.validRange)(le)&&A(J,r)?E[`${v}${Qe}${J}`]={old:my(le),oldOriginal:le}:r==="js"&&A(J,r)&&(L[`${v}${Qe}${J}`]={old:le})}!Object.keys(E).length&&!Object.keys(L).length&&ve(_||S?new Error("No dependencies match the given include/exclude filters"):"No dependencies present, nothing to do");let P;r==="js"&&(P=ds(z.registry||c.registry||qe.registry));let T=await ki(Object.keys(E).map(v=>()=>{let[ee,J]=v.split(Qe);return r==="js"?ny(J,ee,P,g):sy(J,ee,g)}),{concurrency:Hh});for(let[v,ee,J,le]of T){if(v!=null&&v.error)throw new Error(v.error);let Ke=typeof sr=="boolean"?sr:sr.has(v.name),xt=typeof Ki=="boolean"?Ki:Ki.has(v.name),Xe=typeof Xi=="boolean"?Xi:Xi.has(v.name),we;ir===!0||(H=ir==null?void 0:ir.has)!=null&&H.call(ir,v.name)?we=Xb:or===!0||(G=or==null?void 0:or.has)!=null&&G.call(or,v.name)?we=Zb:we=Jb;let fe=`${ee}${Qe}${le}`,Ot=E[fe].old,Ue=fy(v,{usePre:xt,useRel:Xe,useGreatest:Ke,semvers:we,range:Ot,language:r}),Yr=uy(Ot,Ue);!Ue||Ot===Yr?delete E[fe]:(E[fe].new=Yr,r==="js"?E[fe].info=Eh((Z=v==null?void 0:v.versions)==null?void 0:Z[Ue],J,v.name):E[fe].info=Eh(v,J,v.info.name),(te=v.time)!=null&&te[Ue]?E[fe].age=ss(v.time[Ue],{noAffix:!0}):(vt=(De=(oe=v.releases)==null?void 0:oe[Ue])==null?void 0:De[0])!=null&&vt.upload_time_iso_8601&&(E[fe].age=ss(v.releases[Ue][0].upload_time_iso_8601,{noAffix:!0})))}if(Object.keys(L).length){let v=await Promise.all(Object.entries(L).map(([ee,J])=>{let le=ee.split(Qe)[1],Ke=typeof sr=="boolean"?sr:sr.has(le);return dy([ee,J],{useGreatest:Ke})}));for(let ee of(v||[]).filter(Boolean)){let{key:J,newRange:le,user:Ke,repo:xt,oldRef:Xe,newRef:we,newDate:fe}=ee;E[J]={old:L[J].old,new:le,oldPrint:eo.test(Xe)?Xe.substring(0,7):Xe,newPrint:eo.test(we)?we.substring(0,7):we,info:`https://github.com/${Ke}/${xt}`,...fe?{age:ss(fe,{noAffix:!0})}:{}}}}Object.keys(E).length||ve("All dependencies are up to date."),a||ve(void 0,E);try{let v;r==="js"?v=ay:v=ly,await iy(h,v(p,E))}catch(v){ve(new Error(`Error writing ${Yi(h)}: ${v.message}`))}ve(tr(`\u2728 ${Yi(h)} updated`),E)}gy().catch(ve);
